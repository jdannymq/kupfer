<?xml version="1.0" encoding="iso-8859-1" ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:a="http://richfaces.org/a4j"
    template="/layout/template.xhtml">

    <ui:define name="body">
    	
      <a:outputPanel id="panelGeneral" >
    	<rich:panel style="text-align:center;" >
    		<f:facet name="header" >Solicitud de Crédito Kepfer Hermanos.</f:facet>
    		<h:form id="frmSeleccion" enctype="multipart/form-data">
    			<table cellpadding="0" cellspacing="0" border="0" width="100%;">
    				<tr >
    					<td colspan="3" align="left" width="1260px;" style="font-size:15px" >
    						<table cellpadding="0" cellspacing="0" width="100%" >
    							<tr>
    								<td width="30%" align="left">Número Solicitud: <strong >#{respuestaSolicitudDerivadaAction.solicitud.id.numSolicitud}</strong></td>
    								<td width="30%" align="center">	
    									<s:fragment rendered="#{respuestaSolicitudDerivadaAction.solicitud.usuarioDevuelve != null}">
    										<span>Usuario Responsable Solicitud: <strong >#{respuestaSolicitudDerivadaAction.solicitud.usuarioDevuelve}</strong></span>
    										
    									</s:fragment>
    								</td>    								
    								<td width="70%" align="right"><span style="color:#000000; font-weight:bold;">Estado de Solictud:</span> 
    								                                      <h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.estadoSolicitud.toUpperCase(globalLocale)}" 
    								                                                     style="color:#2B00FF; font-weight:bold; " rendered="#{respuestaSolicitudDerivadaAction.solicitud.estado != 'A' and respuestaSolicitudDerivadaAction.solicitud.estado != 'R'}"/>
																		  <h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.estadoSolicitud.toUpperCase(globalLocale)}" 
    								                                                     style="color:#008712; font-weight:bold; " rendered="#{respuestaSolicitudDerivadaAction.solicitud.estado == 'A'}"/>    								                                                     
																		  <h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.estadoSolicitud.toUpperCase(globalLocale)}" 
    								                                                     style="color:#E00000; font-weight:bold; " rendered="#{respuestaSolicitudDerivadaAction.solicitud.estado == 'R'}"/>  
    								</td>
    							</tr>
    						</table>
    					</td>
					</tr>
					<!-- enccabezado de datos -->	
    				<tr valign="top">
    					<td align="left" width="980px;">
    						<rich:panel style=" width:100%; height:78px;">
								<f:facet name="header" >Acciones</f:facet> 
								<table cellpadding="0" cellspacing="0" border="0" width="100%;">
									<tr>
										<td align="center">
									        <a:outputPanel>
							    				 <a:commandButton value="Observación" 
							    				 	reRender="mpIngresoObservaciones,grillaObservacion"
					                           	 	ajaxSingle="true" 
					                           	 	oncomplete="#{rich:component('mpIngresoObservaciones')}.show()"
					                            	action="#{respuestaSolicitudDerivadaAction.ingresoObservaciones()}" 
					                            	style="width:80px;"
					                            	title="Ingreso de Observaciones"
					                            	disabled="#{!respuestaSolicitudDerivadaAction.botonera.observaiones}"
					                			  />	
							    				 <a:commandButton value="Devolver" 
							    				 	reRender="mpDevolverSolicitud,escritura2,escritura3"
					                           	 	ajaxSingle="true" 
					                           	 	oncomplete="if (#{respuestaSolicitudAction.mensajeGlogal == null}) {#{rich:component('mpDevolverSolicitud')}.show()}else{#{rich:component('mpMensajeGlobalRespuesta')}.show()}"
					                           	 	action="#{respuestaSolicitudAction.ingresoDevolucion()}"
					                           	 	title="Devolver al Emisor"
					                           	 	style="width:75px;"
					                           	 	process="idObservacionesfinales,margenGlobal,idObservacionesfinales11,idObservacionesfinales3,idObservacionesfinales4,idObservacionesfinales5,idObservacionesfinales6"
					                			  	disabled="#{!respuestaSolicitudDerivadaAction.botonera.devolver}"
					                			  />							                		
							    				 <a:commandButton value="Adjuntar" 
							    				 	reRender="mpAdjuntarArchivoDerivada"
					                           	 	ajaxSingle="true" 
					                           	 	oncomplete="#{rich:component('mpAdjuntarArchivoDerivada')}.show()"
					                           	 	title="Adjuntar Archivos"
					                           	 	style="width:75px;"
					                           	 	disabled="#{!respuestaSolicitudDerivadaAction.botonera.adjuntar}"
					                			  />
					                			  
							    				 <a:commandButton value="Derivar" 
							    				 	action="#{respuestaSolicitudAction.ingresoDerivarSolicitud()}"
							    				 	reRender="mpDestinatarioDerivacion,escritura2,escritura3"
					                           	 	ajaxSingle="true" 
					                           	 	oncomplete="if (#{respuestaSolicitudAction.mensajeGlogal == null}) {#{rich:component('mpDestinatarioDerivacion')}.show()}else{#{rich:component('mpMensajeGlobalRespuesta')}.show()}"
					                           	 	title="Derivar la Solicitud #{respuestaSolicitudDerivadaAction.solicitud.id.numSolicitud}"
					                           	 	style="width:75px;"
					                           	 	disabled="#{!respuestaSolicitudDerivadaAction.botonera.derivar}"
					                			  />					                			  
							    				 <a:commandButton value="Analisis" 
							    				 	reRender="mpAnalizarSolicitudDerivada"
					                           	 	ajaxSingle="true" 
					                           	 	oncomplete="#{rich:component('mpAnalizarSolicitudDerivada')}.show()"
					                           	 	title="Analizar la Solicitud #{respuestaSolicitudDerivadaAction.solicitud.id.numSolicitud}"
					                           	 	style="width:75px;" 
					                           	 	rendered="#{respuestaSolicitudDerivadaAction.botonera.muestraBotonAnalisisToCierraAnalisis == 1}"
					                           	 	disabled="#{!respuestaSolicitudDerivadaAction.botonera.analisis}"
					                           	   />	

							    				  <a:commandButton value="Cerrar Analisis" 
							    				 	reRender="mpCerrarAnalisisDerivada,escrituraAprobar,mpMensajeGlobalRespuestaDerivada,escritura3"
					                           	 	ajaxSingle="true" 
					                           	 	oncomplete="if (#{respuestaSolicitudDerivadaAction.mensajeGlogal == null}) {#{rich:component('mpCerrarAnalisisDerivada')}.show()}else{#{rich:component('mpMensajeGlobalRespuestaDerivada')}.show()}"
					                           	 	action="#{respuestaSolicitudDerivadaAction.ingresoAprobar()}"
					                           	 	title="Aprobar Solicitud #{respuestaSolicitudDerivadaAction.solicitud.id.numSolicitud}"
					                           	 	style="width:110px;"
					                           	 	process="idObservacionesfinales,idObservacionesfinales6,idObservacionesfinales11,idObservacionesfinales3,idObservacionesfinales4,idObservacionesfinales5"
					                			  	rendered="#{respuestaSolicitudDerivadaAction.botonera.muestraBotonAnalisisToCierraAnalisis == 2}"
					                			  	disabled="#{!respuestaSolicitudDerivadaAction.botonera.cerrarAnalisis}"
					                			  />				                			  
							    				 <a:commandButton value="Logs" 
							    				 	action="#{respuestaSolicitudDerivadaAction.sacarLogSolicitudPagina()}"
							    				 	reRender="mpConsultarLogsDerivada"
					                           	 	ajaxSingle="true" 
					                           	 	oncomplete="#{rich:component('mpConsultarLogsDerivada')}.show()"
					                           	 	title="Revisar Logs de Solicitud #{respuestaSolicitudDerivadaAction.solicitud.id.numSolicitud}"
					                           	 	style="width:75px;"
					                           	 	disabled="#{!respuestaSolicitudDerivadaAction.botonera.logs}"
					                			  />									        									        

							    				 <a:commandButton value="Hitos" 
							    				 	action="#{respuestaSolicitudDerivadaAction.sacarLogHitosPagina()}"
							    				 	reRender="mpConsultarHitosDerivada"
					                           	 	ajaxSingle="true" 
					                           	 	oncomplete="#{rich:component('mpConsultarHitosDerivada')}.show()"
					                           	 	title="Revisar Hitos de Solicitud #{respuestaSolicitudDerivadaAction.solicitud.id.numSolicitud}"
					                           	 	style="width:75px;"
					                           	 	disabled="#{!respuestaSolicitudDerivadaAction.botonera.hitos}"
					                			 />	
						                		  	
							    				 <a:commandButton id="conceptoMonto"
							    				    value="Conceptos  y Montos Cotizados" 
					                           	 	ajaxSingle="false" 
					                           	 	reRender="mpRevisarConceptoMontoRespuesta"
					                           	 	oncomplete="#{rich:component('mpRevisarConceptoMontoRespuesta')}.show()"
					                            	disabled="#{!respuestaSolicitudAction.botonera.conceptos}"
					                            	rendered="#{respuestaSolicitudAction.botonera.conceptos}"
					                			  />
						                		
							    				 <a:commandButton value="Anular" 
							    				 	reRender="mpAnularSolicitud,escritura3"
					                           	 	ajaxSingle="true" 
					                           	 	oncomplete="if (#{respuestaSolicitudDerivadaAction.mensajeGlogal == null}) {#{rich:component('mpAnularSolicitud')}.show()}else{#{rich:component('mpMensajeGlobalRespuesta')}.show()}"
					                           	 	action="#{respuestaSolicitudDerivadaAction.ingresoAnular()}"
					                           	 	title="Anular Solicitud #{respuestaSolicitudDerivadaAction.solicitud.id.numSolicitud}"
					                           	 	style="width:75px;"
					                           	 	process="idObservacionesfinales"
					                           	 	disabled="#{!respuestaSolicitudDerivadaAction.botonera.anular}"
					                			  />	

						                		<s:fragment rendered="#{respuestaSolicitudDerivadaAction.botonera.salir}">	  								        
						        					<s:button view="/GenerarSolicitud.xhtml" 
										                   id="done"
										                   value="Volver" 								
										                   action="#{generarSolicitudAction.retorno()}"
										                   propagation="join"
										                   rendered="#{respuestaSolicitudDerivadaAction.paginaVolver == 'Listado'}"
										                   onclick="abrirModal();">
															<f:param name="tabGrilla" value="#{respuestaSolicitudDerivadaAction.tabGrilla}" />
															<f:param name="tabGrillaRetorno" value="#{respuestaSolicitudDerivadaAction.tabGrilla}" />
															<f:param name="solicitudSeleccionada" value="#{respuestaSolicitudDerivadaAction.solicitud.id.numSolicitud}" />	
															<f:param name="pagina" value="Resp" />	
													</s:button>
						        					<s:button view="/GenerarSolicitud.xhtml" 
										                   id="done1"
										                   value="Volver" 								
										                   action="#{generarSolicitudAction.retorno()}"
										                   propagation="join"
										                   rendered="#{respuestaSolicitudDerivadaAction.paginaVolver == 'ListaEstado'}"
										                   onclick="abrirModal();">
															<f:param name="tabGrilla" value="#{respuestaSolicitudDerivadaAction.tabGrilla}" />
															<f:param name="tabGrillaRetorno" value="#{respuestaSolicitudDerivadaAction.tabGrilla}" />	
															<f:param name="solicitudSeleccionada" value="#{respuestaSolicitudDerivadaAction.solicitud.id.numSolicitud}" />
															<f:param name="pagina" value="Resp" />
													</s:button>											        
									        	</s:fragment>
									      </a:outputPanel>  
										</td>
									</tr>
									<tr>
										<td align="center">
						    				 <a:commandButton value="Aprobar" 
						    				 	reRender="mpAprobarSolicitudDerivada,escrituraAprobar,mpMensajeGlobalRespuestaDerivada,escritura3"
				                           	 	ajaxSingle="true" 
				                           	 	oncomplete="if (#{respuestaSolicitudDerivadaAction.mensajeGlogal == null}) {#{rich:component('mpAprobarSolicitudDerivada')}.show()}else{#{rich:component('mpMensajeGlobalRespuestaDerivada')}.show()}"
				                           	 	action="#{respuestaSolicitudDerivadaAction.ingresoAprobar()}"
				                           	 	title="Aprobar Solicitud #{respuestaSolicitudDerivadaAction.solicitud.id.numSolicitud}"
				                           	 	style="width:75px;"
				                           	 	process="idObservacionesfinales,idObservacionesfinales11,idObservacionesfinales3,idObservacionesfinales4,idObservacionesfinales5,idObservacionesfinales6"
				                			  	disabled="#{!respuestaSolicitudDerivadaAction.botonera.aprobar}"
				                			  />				                			  

						    				 <a:commandButton value="Rechazar" 
						    				 	action="#{respuestaSolicitudDerivadaAction.ingresoRechazoSolicitud()}"
						    				 	reRender="mpRechazaSolicitudDerivada,escrituraAprobar,mpMensajeGlobalRespuestaDerivada,escritura3"
				                           	 	ajaxSingle="true" 
				                           	 	oncomplete="if (#{respuestaSolicitudDerivadaAction.mensajeGlogal == null}) {#{rich:component('mpRechazaSolicitudDerivada')}.show()}else{#{rich:component('mpMensajeGlobalRespuestaDerivada')}.show()}"
				                           	 	title="Rechazar la Solicitud #{respuestaSolicitudDerivadaAction.solicitud.id.numSolicitud}"
				                           	 	style="width:75px;"
				                           	 	process="idObservacionesfinales,idObservacionesfinales11,idObservacionesfinales3,idObservacionesfinales4,idObservacionesfinales5,idObservacionesfinales6"
				                			  	disabled="#{!respuestaSolicitudDerivadaAction.botonera.rechazar}"
				                			  />	
										</td>									
									</tr>								
								</table>									 
    						</rich:panel>
    					</td>
    					<td align="left"  width="280px;">
     						<rich:panel style="height:78px;">
								<f:facet name="header" >Datos.</f:facet>   	
								<table cellpadding="0" cellspacing="0" border="0" width="400px;">
									<tr>
										<td>Emisor:</td>
										<td><h:outputLabel value="#{respuestaSolicitudDerivadaAction.usuarioEmisor}" /></td>
										<td>Fecha:</td>
										<td><h:outputLabel value="#{respuestaSolicitudDerivadaAction.solicitud.id.fecSolicitud}" >
												<s:convertDateTime pattern="dd-MM-yyyy" />
											</h:outputLabel>
										</td>
									</tr>
									<tr>
										<td>Sucursal:</td>
										<td style="font-size:11px;">
											<h:outputLabel value="#{respuestaSolicitudDerivadaAction.sucursal.codigo}" />#{' '}
											<h:outputLabel value="#{respuestaSolicitudDerivadaAction.sucursal.descripcion}" />
										</td>
										<td>Hora</td>
										<td><h:outputLabel value="#{respuestaSolicitudDerivadaAction.solicitud.hraSolicitud}">
												<s:convertDateTime pattern="HH:mm:ss" />
											</h:outputLabel>
										</td>
									</tr>
								</table> 									    						
    						</rich:panel>     						
    					</td>
    				</tr>
  				
    				<!-- informacion del cliente -->
    				<tr>
    					<td colspan="3" align="left"  width="1260px;">
						<a:outputPanel id="opDatosCliente">
    					   <rich:panel>
								<f:facet name="header" >Datos Actuales Del Cliente.</f:facet> 
								<table cellpadding="0" cellspacing="0" border="0" width="100%">
									<tr>
										<td width="40px;">Rut Cliente</td>
										<td width="90px;">:&nbsp;<strong> <h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.rut}" /></strong></td>
										<td width="40px;"></td>
										<td width="90px;"></td>
										<td width="40px;"></td>
										<td width="90px;"><strong></strong></td>
									</tr>
									<tr>
										<td width="40px;">Razón Social</td>
										<td width="90px;">:&nbsp;<strong> <h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.razonSocial}" /></strong></td>
										<td width="40px;">L.Crédito KH</td>
										<td width="90px;">:<strong><h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.lineaCreditoKH}">
																		<f:convertNumber type="currency" currencySymbol="$ "/>
																   </h:outputLabel>	
										 					</strong> </td>
										<td width="40px;">Tipo Seguro</td>
										<td width="90px;">:<strong><h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.seguro}" /></strong></td>
									</tr>
									<tr>
										<td>Giro de Cliente</td>
										<td>:<strong><h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.giro}" /></strong></td>
										<td>L.Crédito KH Utilizado</td>
										<td>:<strong><h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.lineaCreditoKHUtilizado}">
														<f:convertNumber type="currency" currencySymbol="$ "/>
													 </h:outputLabel>	
											 </strong></td>
										<td>Vigencia Seguro</td>
										<td>:<strong><h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.vigenciaSeguro}" /></strong></td>
									</tr>							
									<tr>
										<td>Dirección</td>
										<td>:<strong><h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.direccion}" /></strong></td>
										<td>L.Crédito KH Disponible</td>
										<td>:<strong><h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.lineaCreditoKHDisponible}">
														<f:convertNumber type="currency" currencySymbol="$ "/>
													</h:outputLabel>	
											</strong></td>
										<td>Monto Seguro $</td>
										<td>:<strong><h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.montoSeguro}">
														<f:convertNumber type="currency" currencySymbol="$ "/>
													</h:outputLabel>	
											</strong></td>
									</tr>	
									<tr>
										<td>Fono / Fax</td>
										<td>:<strong>	<h:outputLabel value="tel: #{respuestaSolicitudDerivadaAction.cliente.fono}" rendered="#{respuestaSolicitudDerivadaAction.cliente.fono ne null}"/>
												#{' '}  <h:outputLabel value="fax: #{respuestaSolicitudDerivadaAction.cliente.fax}" rendered="#{respuestaSolicitudDerivadaAction.cliente.fax ne null}"/>
											</strong>	
										</td>
										<td>Estado L.Crédito KH</td>
										<td>:<strong><h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.estadoLineaCreditoKH}" /></strong> </td>
										<td>Monto Seguro UF</td>
										<td>:<strong><h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.montoSeguroUf}">
														<f:convertNumber type="currency" currencySymbol="$ "/>
													</h:outputLabel>	
										     </strong> </td>
									</tr>	
									<tr>
										<td>Comuna</td>
										<td>:<strong><h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.comuna}" /></strong> </td>
										<td>Número RV</td>
										<td>:<strong><h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.numeroRV}" /></strong></td>
										<td>Ventas Prom 12 Meses</td>
										<td>:<strong><h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.ventasProm12Meses}">
														<f:convertNumber type="currency" currencySymbol="$ "/>
													 </h:outputLabel>	
										    </strong></td>
									</tr>	
									<tr>
										<td>Ciudad</td>
										<td>:<strong><h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.ciudad}" /></strong> </td>
										<td >Condición de Pago</td>
										<td>:<strong><h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.condicionPago}" /></strong> </td>
										<td>Fact.Prom 12 Meses</td>
										<td>:<strong><h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.factProm12Meses}"/>
											</strong></td>
									</tr>	
									<tr>
										<td>Suc.Cliente</td>
										<td>:<strong><h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.sucursalCliente}" /></strong> </td>
										<td >Clasificación Riesgo</td>
										<td >:<strong><h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.clasificacionRiesgo}" /></strong></td>
										<td>Cant. Meses Ventas</td>
										<td>:<strong><h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.cantMesesVentas}"/>	
												</strong> </td>
									</tr>	
									<tr>
										<td>Canal Venta</td>
										<td >:<strong><h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.canalVenta}" /></strong> </td>
										<td ></td>
										<td ><strong></strong> </td>
										<td >Ventas Total 12 Meses</td>
										<td>:<strong><h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.ventasTotal12Meses}">
														<f:convertNumber type="currency" currencySymbol="$ "/>
													</h:outputLabel>	
											</strong> </td>
									</tr>	
									<tr>
										<td >Tipo Cliente</td>
										<td >:<strong><h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.tipoCliente}" /></strong></td>
										<td ></td>
										<td></td>
										<td>Creación en SAP</td>
										<td>:<strong>
											<h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.creacionSap}">
												<s:convertDateTime pattern="dd-MM-yyyy" />
											</h:outputLabel>
										</strong> </td>
									</tr>	
									<tr>
										<td >DM de Ventas </td>
										<td >: <strong><h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.dmVentasUno}" /></strong></td>
										<td colspan="2" align="left">
											<a:outputPanel id="botonCtaCte">
						    				 <a:commandButton value="Detalle Cta Cte" 
						    				 	reRender="mpConsultarCtaCteDerivada"
				                           	 	ajaxSingle="true" 
				                           	 	oncomplete="#{rich:component('mpConsultarCtaCteDerivada')}.show()"
				                            	action="#{respuestaSolicitudDerivadaAction.informacionCtaCte()}" 
				                			   />	
						    				<ui:remove>
							    				 <a:commandButton value="Enviar Cia de Seguro" 
							    				 	reRender="mpConsultarCtaCte"
					                           	 	ajaxSingle="true" 
					                           	 	style="width:150px;"
					                           	 	oncomplete="#{rich:component('mpConsultarCtaCte')}.show()"
					                            	action="#{respuestaSolicitudDerivadaAction.informacionCtaCte()}" 
					                			  />
				                			 </ui:remove> 					                			   
				                			 </a:outputPanel> 	
										</td>
										<td ><span style="color:#000000; font-weight:bold;">Estado de Solictud:</span></td>
										<td width="50px;">:
												      <h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.estadoSolicitud}" 
							                                                     style="color:#2B00FF; font-weight:bold; " rendered="#{respuestaSolicitudDerivadaAction.solicitud.estado != 'A' and respuestaSolicitudDerivadaAction.solicitud.estado != 'R'}"/>
													  <h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.estadoSolicitud}" 
							                                                     style="color:#008712; font-weight:bold; " rendered="#{respuestaSolicitudDerivadaAction.solicitud.estado == 'A'}"/>    								                                                     
													  <h:outputLabel value="#{respuestaSolicitudDerivadaAction.cliente.estadoSolicitud}" 
							                                                     style="color:#E00000; font-weight:bold; " rendered="#{respuestaSolicitudDerivadaAction.solicitud.estado == 'R'}"/> 										
										</td>
									</tr>	
									<tr>
										<td >&nbsp;</td>
										<td >&nbsp;</td>
										<td >&nbsp;</td>
										<td >&nbsp;</td>
										<td >&nbsp;</td>
										<td >&nbsp;</td>
									</tr>
								</table> 								
							</rich:panel> 					
						  </a:outputPanel> 
    					</td>
    				</tr>

    				<!-- informacion del Montos de La solictud -->
    				<tr>
    					<td colspan="3" align="left"  width="1260px;">
    						<table cellpadding="0" cellspacing="0" border="0" width="100%" align="center" >
    							<tr valign="top">
    								<td width="10%">
    								   <a:outputPanel id="botonConsultas">
			     						<rich:panel style="height:115px;">
											<f:facet name="header" >Consultas.</f:facet>   
												<table cellpadding="0" cellspacing="0" border="0" width="100%">
					    							<tr>
														<td> 
										    				 <a:commandButton value="Dicom" 
										    				 	reRender="mpConsultarCtaCte"
								                           	 	ajaxSingle="true" 
								                           	 	style="width:80px;"
								                           	 	oncomplete="#{rich:component('mpConsultarCtaCte')}.show()"
								                            	action="#{respuestaSolicitudDerivadaAction.informacionCtaCte()}" 
								                			  />															
														 </td>
					    							</tr>												
					    							<tr>
														<td> 
										    				 <a:commandButton value="Continental" 
										    				 	reRender="mpConsultarCtaCte"
								                           	 	ajaxSingle="true" 
								                           	 	style="width:80px;"
								                           	 	oncomplete="#{rich:component('mpConsultarCtaCte')}.show()"
								                            	action="#{respuestaSolicitudDerivadaAction.informacionCtaCte()}" 
								                			  />															
														 </td>
					    							</tr>
					    							<tr>
														<td> 
										    				 <a:commandButton value="Scoring" 
										    				 	reRender="mpConsultarCtaCte"
								                           	 	ajaxSingle="true" 
								                           	 	style="width:80px;"
								                           	 	oncomplete="#{rich:component('mpConsultarCtaCte')}.show()"
								                            	action="#{respuestaSolicitudDerivadaAction.informacionCtaCte()}" 
								                			  />															
														 </td>
					    							</tr>
												</table>
										</rich:panel>
									  </a:outputPanel>		
    								</td>    							
    								<td width="35%">
    								  <a:outputPanel id="opDatosComportamiento">
			     						<rich:panel style="height:115px;">
											<f:facet name="header" >Comportamiento Comercial con Küpfer Hermanos</f:facet>  
												<table cellpadding="0" cellspacing="0" border="0" width="100%">
					    							<tr>
					    								<td>&nbsp;</td>
					    								<td>Monto Total</td>
					    								<td>&nbsp;</td>					    								
					    								<td>Nro</td>	
					    								<td>Días de Mora</td>	
					    							</tr>
					    							<tr>
					    								<td>Morosidad</td>
					    								<td><h:inputText value="#{respuestaSolicitudDerivadaAction.comportamiento.montoTotalMoro}" disabled="true" style="text-align: right;">
					    										<f:convertNumber type="currency" currencySymbol="$ "/>
					    									</h:inputText>
					    								
					    								</td>
					    								<td>&nbsp;</td>					    								
					    								<td><h:inputText value="#{respuestaSolicitudDerivadaAction.comportamiento.numeroMoro}" disabled="true" style="text-align: right;"/></td>	
					    								<td><h:inputText value="#{respuestaSolicitudDerivadaAction.comportamiento.diasMoras}" disabled="true" style="text-align: right;"/></td>	
					    							</tr>

					    							<tr>
					    								<td colspan="5">&nbsp;</td>					    								
					    							</tr>
					    							<tr>
					    								<td>&nbsp;</td>
					    								<td>Monto Total</td>
					    								<td>&nbsp;</td>					    								
					    								<td>Nro</td>	
					    								<td>Días de Mora</td>	
					    							</tr>
					    							<tr>
					    								<td>Protesto</td>
					    								<td><h:inputText value="#{respuestaSolicitudDerivadaAction.comportamiento.montoTotalProt}" disabled="true" style="text-align: right;">
					    										<f:convertNumber type="currency" currencySymbol="$ "/>
					    									</h:inputText>
					    								</td>
					    								<td>&nbsp;</td>					    								
					    								<td><h:inputText value="#{respuestaSolicitudDerivadaAction.comportamiento.numeroProt}" disabled="true" style="text-align: right;"/></td>	
					    								<td><h:inputText value="#{respuestaSolicitudDerivadaAction.comportamiento.dmPort}" disabled="true" style="text-align: right;"/></td>	
					    							</tr>
					    						</table>												 

										</rich:panel>	
									  </a:outputPanel>
    								</td>
    								<td colspan="1" width="45%">
    								   <a:outputPanel id="opDatosExposi">
			     						<rich:panel style="height:115px;">
											<f:facet name="header" >Exposición de Riesgo Küpfer Hermanos.</f:facet>   
												<table cellpadding="0" cellspacing="0" border="0" width="100%">
					    							<tr>
					    								<td width="80px;">Peak Crédito</td>
					    								<td ><strong>:
					    								             <h:outputText value="#{respuestaSolicitudDerivadaAction.expoRiesgoKh.peakCredito}">
					    												<f:convertNumber type="currency" currencySymbol="$ "/>
					    											  </h:outputText>	
					    									</strong>
					    								      </td>
					    								<td width="200px;">Pedidos en Proceso</td>					    								
					    								<td><strong> :
					    								             <h:outputText value="#{respuestaSolicitudDerivadaAction.expoRiesgoKh.montoPedidoProceso}">
					    												<f:convertNumber type="currency" currencySymbol="$ "/>
					    											  </h:outputText>						    								
					    								 </strong></td>	
					    							</tr>												
					    							<tr>
					    								<td width="80px;"></td>
					    								<td >   </td>
					    								<td width="200px;"></td>					    								
					    								<td></td>	
					    							</tr>	
					    							<tr>
					    								<td>Seguro</td>
					    								<td><strong> :
					    								             <h:outputText value="#{respuestaSolicitudDerivadaAction.expoRiesgoKh.montoAsegurado}">
					    												<f:convertNumber type="currency" currencySymbol="$ "/>
					    											  </h:outputText>						    								
					    								</strong></td>
					    								<td>Peak Crédito + Pedido en Proceso</td>					    								
					    								<td><strong> :
					    								             <h:outputText value="#{respuestaSolicitudDerivadaAction.expoRiesgoKh.montoPeakCreditoPedidoProceso}">
					    												<f:convertNumber type="currency" currencySymbol="$ "/>
					    											  </h:outputText>	
					    									</strong></td>	
					    							</tr>
					    							<tr>
					    								<td width="80px;"></td>
					    								<td >   </td>
					    								<td width="200px;"></td>					    								
					    								<td></td>	
					    							</tr>	
					    								
					    							<tr>
					    								<td>Riesgo Küpfer</td>
					    								<td><strong> :
					    								             <h:outputText value="#{respuestaSolicitudDerivadaAction.expoRiesgoKh.montoRiesgoKupfer}">
					    												<f:convertNumber type="currency" currencySymbol="$ "/>
					    											  </h:outputText>	
					    									</strong></td>
					    								<td>Riesgo Küpfer + Pedido en Proceso</td>					    								
					    								<td><strong> :
					    								             <h:outputText value="#{respuestaSolicitudDerivadaAction.expoRiesgoKh.montoRiesgoKupferPedidoProceso}">
					    												<f:convertNumber type="currency" currencySymbol="$ "/>
					    											  </h:outputText>	
					    								</strong></td>	
					    							</tr>
												</table>
										</rich:panel>
									  </a:outputPanel>		
    								</td>
    								<td width="10%">
    								   <a:outputPanel id="boton">
			     						<rich:panel style="height:115px;">
											<f:facet name="header" >Resolución.</f:facet>   
												<table cellpadding="0" cellspacing="0" border="0" width="100%" align="center">
					    							<tr>
														<td> 

								                			  														
														 </td>
					    							</tr>												
					    							<tr>
														<td> 
															<a:outputPanel id="idUsuarioInvolucrados">
											    				 <a:commandButton value="Aprobadores" 
											    				 	action="#{respuestaSolicitudDerivadaAction.sacarAprobadores()}"
											    				 	reRender="mpConsultarAproRecha"
									                           	 	ajaxSingle="true" 
									                           	 	oncomplete="#{rich:component('mpConsultarAproRecha')}.show()"
									                           	 	title="Resumen Usuarios Involucrados de solicitud #{respuestaSolicitudDerivadaAction.solicitud.id.numSolicitud}"
									                           	 	style="height:40px; text-align:justify;"
									                           	 	disabled="#{respuestaSolicitudDerivadaAction.habilitarBotonAprobadoresInvolucrados}"/>
								                           	</a:outputPanel> 																
														 </td>
					    							</tr>	
					    							<tr>
														<td> 
														
								                			  														
														 </td>
					    							</tr>						    							
					    							
												</table>
										</rich:panel>
									  </a:outputPanel>		
    								</td>
    							</tr>
    						</table>
    					</td>
					</tr>
				    <!-- informacion de La solictud -->
   					<tr>
    					<td colspan="3" align="left" width="1260px;" >
    					    <rich:panel>
					    		<rich:tabPanel switchType="client" >
					    			<rich:tab label="Venta Puntual" rendered="#{respuestaSolicitudDerivadaAction.paginaIngreso == 11  || respuestaSolicitudDerivadaAction.paginaIngreso == 12}">
			    						<table cellpadding="0" cellspacing="0" border="0" width="100%">
			    							<tr valign="top">
			    								<td >
											    	<rich:panel id="panelIngresoSolicitud1" style="width:100%;">
											    			<f:facet name="header" ><strong>#{respuestaSolicitudDerivadaAction.tituloIngreso}</strong></f:facet>
											    			
													    	<s:fragment rendered="#{respuestaSolicitudDerivadaAction.paginaIngreso == 11 || respuestaSolicitudDerivadaAction.paginaIngreso == 12}">
													    			<table  cellpadding="0" cellspacing="0" border="0" width="100%">
													    				<tr valign="top">
																			<td width="250px;" > 
																				<rich:panel>
																					<f:facet name="header" ><strong>Monto y Pie </strong></f:facet>
																					<a:outputPanel id="idValorMonto">
																						<table cellpadding="0" cellspacing="0" border="0" style="height:152px;">
																							<tr>
																								<td><strong>Monto ($) </strong></td>
																								<td ><h:inputText id="montoSol"
																												  value="#{respuestaSolicitudDerivadaAction.montoVtaPuntual}" 
																								                  style="text-align: right;"
																								                   onkeypress="return isNumberKey(event);"
																								                   disabled="true">
																								             		<f:convertNumber type="currency" currencySymbol="" locale="#{globalLocale}"/>																								                   
																								     </h:inputText>              
																								</td>
																							</tr>
																							<tr>	
																								<td><strong>Pie ($)</strong></td>
																								<td ><h:inputText id="pieSol"
																												  value="#{respuestaSolicitudDerivadaAction.pieVentaPuntual}" 
																								                  style="text-align: right;"
																								                   onkeypress="return isNumberKey(event);"
																								                   disabled="true">
																								            	   <f:convertNumber type="currency" currencySymbol="" locale="#{globalLocale}"/> 			      
																								     </h:inputText>
																								   </td>
																							</tr>
																						</table>
																					</a:outputPanel>
																				</rich:panel>
																				<rich:panel>
																					<f:facet name="header" >Documentos Creación Solicitud</f:facet>
																					<table cellpadding="0" cellspacing="0" border="0" width="100%" align="center">
																						<tr>
																							<td colspan="2" style="border:1px solid #000000;padding:3px;" align="center"> 
																							  <a:outputPanel id="idArchivoAdjuntosAux">
																						    	<div class="results" id="grillaAA" style="height:125px; overflow: auto;">
																							   		<h:outputText value="No existen ningun archivo adjunto." 
																							   		   rendered="#{empty respuestaSolicitudDerivadaAction.listaArchivoGuardado}"/>
																								    <rich:dataTable id="idArchivoAdjunto"
																								                var="_aa"
																								              value="#{respuestaSolicitudDerivadaAction.listaArchivoGuardado}"
																								           rendered="#{not empty respuestaSolicitudDerivadaAction.listaArchivoGuardado}"
																								           style="width:100%">
																								        <rich:column >
																								            <f:facet name="header">Archivo</f:facet>
																								            <a href="#{_aa.rutaCompleta}" target="_blank">
																								            	<h:outputText value="#{_aa.nombreArchivo}"/>
																								        	</a>
																								        </rich:column>
																								    </rich:dataTable>
																							    </div>	
																							  </a:outputPanel>  																							
																							</td>
																						</tr>
																					</table>																					
																				</rich:panel>	
																				<rich:panel>
																					<f:facet name="header"> Archivos Respuesta</f:facet>
																						<a:outputPanel id="panelarResp" >
																						<table cellpadding="0" cellspacing="0" border="0" width="100%" align="center">
																							<tr>
																								<td colspan="2" style="border:1px solid #000000;padding:3px;" align="center"> 
																								  <a:outputPanel id="idArchAdjAuxModelRespVP">
																							    	<div class="results" id="grillaAAM" style="height:125px; overflow: auto;">
																								   		<h:outputText value="No existen ningun archivo adjunto." 
																								   		   rendered="#{empty respuestaSolicitudDerivadaAction.listaArchivoGuardadoRespuesta}"/>
																										    <rich:dataTable id="idArchivoAdjuntoDerivada"
																										                var="_aam"
																										              value="#{respuestaSolicitudDerivadaAction.listaArchivoGuardadoRespuesta}"
																										           rendered="#{not empty respuestaSolicitudDerivadaAction.listaArchivoGuardadoRespuesta}"
																										           style="width:100%">
																										        <rich:column >
																										            <f:facet name="header">Archivo</f:facet>
																										            <a href="#{_aam.rutaCompleta}" target="_blank">
																										            	<h:outputText value="#{_aam.nombreArchivo}"/>
																										        	</a>
																										        </rich:column>
																										    </rich:dataTable>
																								    </div>	
																								  </a:outputPanel>  																							
																								</td>
																							</tr>
																						</table>	
																						</a:outputPanel>
																				</rich:panel>																					
																			</td>
																			<td width="650px;">
																				<table cellpadding="0" cellspacing="0" border="0">
																					<tr> 
																						<td colspan="2"> 
																							<rich:panel>
																								<f:facet name="header" >Datos de Compras</f:facet>
																									<table cellpadding="0" cellspacing="0" border="0" width="100%" >
																									   <tr valign="top" >
																											<td colspan="1" height="10px;" width="110px;" ><strong>Productos</strong></td>	
																											<td colspan="4" height="10px;" >
																												<h:inputTextarea id="idProducto" value="#{respuestaSolicitudDerivadaAction.productos}" 
																		         									rows="2" 
																		         									style="width:98%;"
																		         									disabled="true"/> 
																											</td>	
																											<td colspan="1" align="right" width="30px;">
																												<a:commandButton value="Ver" id="verproductos"
																												              reRender="mpAgregarCotizacionRespuesta" 
																												            oncomplete="#{rich:component('mpAgregarCotizacionRespuesta')}.show()">
																											    </a:commandButton>																												
																											</td>																											
																											
																									   </tr>																						   
																									   
																									   <tr valign="top" >
																											<td colspan="5" height="10px;" >&nbsp;</td>	
																									   </tr>																							
																									   <tr valign="top">
																											<td width="150px;" align="left"><strong>Forma de Pago</strong></td>
																											<td width="120px;" align="left" colspan="2"> 
																		         								<h:inputText id="idFormaPago" 
																		         								          value="#{respuestaSolicitudDerivadaAction.formaPago}" 
																		         								          style="width:99%;"
																		         								          disabled="true"/> 																								
																											
																											</td>
																											<td  align="center"><strong>Margen</strong></td>
																		         							<td  align="left">
																         										<a:outputPanel id="margenGlobal">
																         											<h:inputText value="#{respuestaSolicitudDerivadaAction.margenGlogal}" 
																								                  		style="text-align: right; width:97%;"
																								                  		size="3"
																								                  		disabled="true"
																								                   		onkeypress="return isNumberKey(event);">
																								                   		<f:convertNumber pattern="###0.00" />
																								                   	</h:inputText>
																								                </a:outputPanel>    		
																		         							</td>
																										</tr>																								
																									   <tr >
																											<td width="126px;" align="left" height="15px;"><strong>Motivo de Compra</strong></td>
																		         							<td width="600px;" colspan="4"  height="15px;">
																		         								<h:inputTextarea id="idMotivoCompra" value="#{respuestaSolicitudDerivadaAction.motivoCompra}" 
																		         									rows="2" 
																		         									style="width:99%;"
																		         									disabled="true"/> 
																		         							</td>
																										</tr>																							
																									
																										<tr>
																											<td width="126px;" align="left" height="15px;"><strong>Observaciones</strong></td>
																		         							<td width="600px;" colspan="4"  height="15px;">
																		         								<h:inputTextarea id="idObervaciones" value="#{respuestaSolicitudDerivadaAction.observacionesCompra}" 
																		         									rows="2" 
																		         									style="width:99%;"
																		         									disabled="true"/> 
																		         							</td>
																										</tr>
																									</table>
																							</rich:panel>																						
																						</td>
																					</tr>
																					<tr valign="top">  
																						<td width="50%"> 
																							<rich:panel style="height:349px;">
																								<f:facet name="header" >Archvios Respuesta</f:facet>
																									<table cellpadding="0" cellspacing="0" border="0" width="100%" style="border:1px solid #000000;padding:3px;" >
																										<tr>
																											<td colspan="3" align="center" height="23px;">
																												<ui:remove>
																								    				 <a:commandButton value="Archivos Respuesta" 
																								    				 	reRender="mpArchivosRespuestas"
																						                           	 	oncomplete="#{rich:component('mpArchivosRespuestas')}.show()"
																						                			  />
																						                		</ui:remove>
																						                		&nbsp;	  																							
																											</td>
																										</tr>
																									   <tr valign="top" >
																											<td width="500px;" colspan="3" align="left">
																										    <a:outputPanel id="archivosList1">
																									    	<div class="results" style="height:275px; overflow: auto;">
																										   		<h:outputText value="No ha Agregado ningun Archivo." 
																										   		 rendered="#{empty respuestaSolicitudDerivadaAction.listaFileUploadedDTOs}"/>
																											    <rich:dataTable id="idArchivosAgregados1"
																											                var="_arch"
																											              value="#{respuestaSolicitudDerivadaAction.listaFileUploadedDTOs}"
																											           rendered="#{not empty respuestaSolicitudDerivadaAction.listaFileUploadedDTOs}">
																											        <rich:column>
																											            <f:facet name="header">Nombre</f:facet>
																									                    <s:link value="#{_arch.nombreArchivo}" action="#{downloadAttachment.download}">
																										                    <f:param name="attachmentId" value="${_arch.archivo.id}" />
																										                </s:link>																												            
																											        </rich:column>
																											        <rich:column styleClass="action">
																											            <f:facet name="header">Acción</f:facet>
																														<a:commandButton value="Eliminar" 
																														                action="#{respuestaSolicitudDerivadaAction.eliminarArchivo(_arch)}"
																														                ajaxSingle="true"
																										         		              reRender="archivosList,idArchivosAgregados" />		
																							
																											        </rich:column>
																										    	  </rich:dataTable>
																									    	  </div>
																									    	</a:outputPanel>  																											    

																											</td>
																										</tr>
																								   </table>
																							</rich:panel>																				
																						</td>

																						<td width="50%"> 
																							<rich:panel style="height:349px;">
																								<f:facet name="header" >Correos</f:facet>
																									<table cellpadding="0" cellspacing="0" border="0" width="100%" style="border:1px solid #000000;padding:3px;" >
																										<tr>
																											<td colspan="2" align="center">
																							    				 <a:commandButton value="Agregar Correo" 
																							    				 	reRender="mpAgregarUsuarioCorreosDerivada"
																					                           	 	oncomplete="#{rich:component('mpAgregarUsuarioCorreosDerivada')}.show()"
																					                           	 	action="#{respuestaSolicitudDerivadaAction.ingresarModelCorreo()}"
																					                			  />																							
																											</td>
																										</tr>																									   
																										<tr>
																											<td colspan="2" > 
																											  <a:outputPanel id="idUsuariosCorreosVentaPuntual">
																										    	<div class="results" id="grillaUC" style="height:275px; overflow: auto;">
																											   		<h:outputText value="No existen usuarios agregado para envio de correo." 
																											   		   rendered="#{empty respuestaSolicitudDerivadaAction.listaUsuarioCorreoagregados}"/>
																												    <rich:dataTable id="idUsuariosCorreosVP"
																												                var="_usuarioCorreo"
																												              value="#{respuestaSolicitudDerivadaAction.listaUsuarioCorreoagregados}"
																												           rendered="#{not empty respuestaSolicitudDerivadaAction.listaUsuarioCorreoagregados}"
																												           style="width:100%">
																												        <rich:column>
																												            <f:facet name="header">Usuario</f:facet>
																												            <h:outputText value="#{_usuarioCorreo.nombre}"/>
																												        </rich:column>
																												    </rich:dataTable>
																											    </div>	
																											  </a:outputPanel>  
																											  																							
																											</td>
																										</tr>																						
																									</table>
																							</rich:panel>	
																						</td>
																					</tr>
																				</table>
																			</td>
																			<td width="300px;" > 
																				<table cellpadding="0" cellspacing="0" border="0" width="100%;">
																					<tr>
																						<td width="100%;">
																							<rich:panel >
																								<f:facet name="header" ><strong>Tipo de Venta</strong></f:facet>
																								<a:outputPanel id="observaciones1">
																									<table cellpadding="0" cellspacing="0" border="0" style="height:152px;" width="100%">
																										<tr valign="top">
																											<td width="300px;" colspan="2"  height="30px;" align="center">
																											 <h:selectOneRadio id="logicOS1"  
																												   value="#{respuestaSolicitudDerivadaAction.normalCuota}"
																												   dir="ltr" disabled="true" layout="lineDirection">
																												 <f:selectItem itemLabel="Normal" itemValue="11"/>
																												 <f:selectItem itemLabel="Cuotas" itemValue="12"/>
																								       			   	<a:support event="onchange" 
																							                         reRender="logicOS1"
																							             			      ajaxSingle="true" 
																							             			      action="#{respuestaSolicitudDerivadaAction.obtenerOpcionNormalCuota()}" />	
					
																											 </h:selectOneRadio>                                                                                                                                                                                                                                                                                                                                                            
																											 </td>
																										 </tr>	
																										<tr>
																											<td><strong>Monto ($) </strong></td>
																											<td ><h:inputText id="montoSolNew"
																															  value="#{respuestaSolicitudDerivadaAction.montoNuevo}" 
																											                  style="text-align: right;"
																											                   onkeypress="return isNumberKey(event);"
																											                   disabled="true">
																											       			   	<a:support event="onchange" 
																											                         reRender="montoSolNew"
																											             			      ajaxSingle="true" 
																											             			      action="#{respuestaSolicitudDerivadaAction.obtenerMontoNuevo()}" 
																											             			      process="montoSolNew"/>
																											             		<f:convertNumber type="currency" currencySymbol="" locale="#{globalLocale}"/>																								                   
																											     </h:inputText>              
																											</td>
																										</tr>
																										<tr>	
																											<td><strong>Pie ($)</strong></td>
																											<td ><h:inputText id="pieSolNew"
																															  value="#{respuestaSolicitudDerivadaAction.pieNuevo}" 
																											                  style="text-align: right;"
																											                   onkeypress="return isNumberKey(event);"
																											                   disabled="true">
																											       			   	<a:support event="onchange" 
																											                         reRender="pieSolNew"
																											             			      ajaxSingle="true" 
																											             			      action="#{respuestaSolicitudDerivadaAction.obtenerMontoNuevo()}"
																											             			      process="pieSolNew" />	
																											            		<f:convertNumber type="currency" currencySymbol="" locale="#{globalLocale}"/> 			      
																											     </h:inputText>
																											   </td>
																										</tr>
																									</table>
																								</a:outputPanel>
																							</rich:panel>
																						</td>
																					</tr>
																					<tr>
																						<td width="100%;">
																							<rich:panel style="height:349px;">
																								<f:facet name="header" ><h:outputLabel value="#{respuestaSolicitudDerivadaAction.tituloObservacion}"/></f:facet>
																								<a:outputPanel id="observacionesfinal">
																									<table cellpadding="0" cellspacing="0" border="0" style="height:305px;" width="100%">
																										<tr>
																											<td width="100%">
																											<h:inputTextarea id="idObservacionesfinales" value="#{respuestaSolicitudDerivadaAction.observacionesFinales}" 
																	         									rows="2" 
																	         									style="width:99%; height:98%;"
																	         									disabled="false"/> 																									
																											</td>
																										</tr>
																									</table>
																								</a:outputPanel>
																							</rich:panel>
																						</td>
																					</tr>																					
																				</table>
																			</td>																		
																		</tr>
																	</table>		
													    	</s:fragment>
													
													</rich:panel>	
			    								</td>
			    							</tr>
			    						</table>							    			
					    			</rich:tab>
					    			<rich:tab label="Línea Crédito" rendered="#{respuestaSolicitudDerivadaAction.paginaIngreso == 21  || respuestaSolicitudDerivadaAction.paginaIngreso == 22 || respuestaSolicitudDerivadaAction.paginaIngreso == 23}">
			    						
			    						<table cellpadding="0" cellspacing="0" border="0">
			    							<tr valign="top">
			    								<td >
											    	<rich:panel id="panelIngresoSolicitud2">
											    			<f:facet name="header" ><strong>#{respuestaSolicitudDerivadaAction.tituloIngreso}</strong></f:facet>
											    			
													    	<s:fragment rendered="#{respuestaSolicitudDerivadaAction.paginaIngreso == 21  || respuestaSolicitudDerivadaAction.paginaIngreso == 22 || respuestaSolicitudDerivadaAction.paginaIngreso == 23}">
													    			<table  cellpadding="0" cellspacing="0" border="0" width="100%">
													    				<tr valign="top">
																			<td width="250px;" > 
																				<rich:panel>
																					<f:facet name="header" ><strong>Información</strong></f:facet>
																					<a:outputPanel id="identificador">
																					
																						<table cellpadding="0" cellspacing="0" border="0" style="height:269px;">
																							<tr valign="top">
																								<td width="100%;" colspan="2"  height="50px;" align="center">
																								 <h:selectOneRadio id="opcion"  
																									   value="#{respuestaSolicitudDerivadaAction.innNomRiesgo}"
																									   dir="ltr" disabled="false" layout="lineDirection">
																									 <f:selectItem itemLabel="Innominada" itemValue="21"/>
																									 <f:selectItem itemLabel="Nominada" itemValue="22"/>
																									  <f:selectItem itemLabel="R.Kupfer" itemValue="23"/>
																					       			   	<a:support event="onchange" 
																				                         reRender="logicLC"
																				             			      ajaxSingle="true" 
																				             			      action="#{respuestaSolicitudDerivadaAction.obtenerOpcionInnNomRiesgo()}" />	
		
																								 </h:selectOneRadio>                                                                                                                                                                                                                                                                                                                                                            
																								 </td>
																							 </tr>	
																							<tr>
																								<td><strong>Monto ($) </strong></td>
																								<td ><h:inputText id="montoSolLC"
																												  value="#{respuestaSolicitudDerivadaAction.montoLineaCredito}" 
																								                  style="text-align: right;"
																								                   onkeypress="return isNumberKey(event);"
																								                   disabled="true">
																								             		<f:convertNumber type="currency" currencySymbol="" locale="#{globalLocale}"/>																								                   
																								     </h:inputText>              
																								</td>
																							</tr>
																							<tr>	
																								<td colspan="2"><strong>Condición de Riesgo</strong></td>
																							</tr>
																							<tr valign="top">
																								<td colspan="2">
																									<a:outputPanel id="idcondicionRiesgo">		
																         								<h:selectOneMenu value="#{respuestaSolicitudDerivadaAction.clsRiesgo}" 
																         								                 style="width:100%;"
																         								                 disabled="true">
																			                			<s:selectItems value="#{respuestaSolicitudDerivadaAction.listaStringClsRiesgos}" 
																			                			                 var="_cr"  
																			                			               label="#{_cr}" 
																			                			               noSelectionLabel="Seleccionar ..." 
																			                			               hideNoSelectionLabel="true"/>
																			                			              
																					                		<a:support event="onchange" 
																						                         reRender="idcondicionRiesgo"
																						             			      ajaxSingle="true" 
																						             			      action="#{respuestaSolicitudDerivadaAction.obtenerCondicionRiesgo()}" />						                			               
																			                		    </h:selectOneMenu>	
																		                		    																						
																									</a:outputPanel>
																								   </td>
																							</tr>
																							<tr>	
																								<td colspan="2" ><strong>Condición de Pago</strong></td>
																							</tr>
																							<tr valign="top">	
																								<td colspan="2">
																									   <a:outputPanel id="idCondicionPago">
																	         								<h:selectOneMenu value="#{respuestaSolicitudDerivadaAction.cPago}" 
																	         								                 style="width:100%;"
																	         								                 disabled="true">
																				                			<s:selectItems value="#{respuestaSolicitudDerivadaAction.listaStringCdnPagos}" 
																				                			                 var="_cp"  
																				                			               label="#{_cp}" 
																				                			               noSelectionLabel="Seleccionar ..." 
																				                			               hideNoSelectionLabel="true"/>
																				                			              
																						                		<a:support event="onchange" 
																							                         reRender="idCondicionPago"
																							             			      ajaxSingle="true" 
																							             			      action="#{respuestaSolicitudDerivadaAction.obtenerCondicionPago()}" />							                			               
																				                		    </h:selectOneMenu>	
																			                		   </a:outputPanel>
																				                		   																					
																				       			</td>
																							</tr>
																						</table>
																					
																					</a:outputPanel>
																				</rich:panel>
																				<rich:panel>
																					<f:facet name="header" >Documentos Creación Solicitud</f:facet>
																					<table cellpadding="0" cellspacing="0" border="0" width="100%" align="center">
																						<tr>
																							<td colspan="2" style="border:1px solid #000000;padding:3px;" align="center"> 
																							  <a:outputPanel id="idArchivoAdjuntosAux1">
																						    	<div class="results" id="grillaAA" style="height:125px; overflow: auto;">
																							   		<h:outputText value="No existen ningun archivo adjunto." 
																							   		   rendered="#{empty respuestaSolicitudDerivadaAction.listaArchivoGuardado}"/>
																								    <rich:dataTable id="idArchivoAdjunto1"
																								                var="_aa"
																								              value="#{respuestaSolicitudDerivadaAction.listaArchivoGuardado}"
																								           rendered="#{not empty respuestaSolicitudDerivadaAction.listaArchivoGuardado}"
																								           style="width:100%">
																								        <rich:column >
																								            <f:facet name="header">Archivo</f:facet>
																								            <a href="#{_aa.rutaCompleta}" target="_blank">
																								            	<h:outputText value="#{_aa.nombreArchivo}"/>
																								        	</a>
																								        </rich:column>
																								    </rich:dataTable>
																							    </div>	
																							  </a:outputPanel>  																							
																							</td>
																						</tr>
																					</table>																					
																				</rich:panel>																			
																			</td>
																			<td width="650px;">
																				<table cellpadding="0" cellspacing="0" border="0">
																					<tr> 
																						<td colspan="2"> 
																							<rich:panel>
																								<f:facet name="header" >Descripción del Proyecto</f:facet>
																									<table cellpadding="0" cellspacing="0" border="0" width="100%">
																									   <tr valign="top" >
																											<td width="800px;" align="left" colspan="6">
																												<h:inputTextarea id="idDescripcionProyecto" value="#{respuestaSolicitudDerivadaAction.descripcionProyecto}" 
																																rows="2" 
																																style="width:99%;"
																																disabled="true"/> 																								
																											</td>
																									   </tr>
																									   <tr valign="top">
																											<td  align="left" width="50px;"><strong> Monto:</strong></td>
																											<td  align="left" width="150px;">
																														 <h:inputText id="montoCredito"
																																  value="#{respuestaSolicitudDerivadaAction.montoCredito}" 
																												                  style="text-align: right; width:95%;"
																												                   onkeypress="return isNumberKey(event);"
																												                   disabled="true">
																												             		<f:convertNumber type="currency" currencySymbol="" locale="#{globalLocale}"/>																								                   
																												     	  </h:inputText> 
																											</td>																								
																											<td  align="left" width="120px;"><strong>Plazo de Ejecución:</strong></td>
																											<td  align="left" colspan="3">
																											  <h:inputText 	id="idPlazoEjecucion" value="#{respuestaSolicitudDerivadaAction.plazoEjecucion}" 
																														style="text-align: left; width:98%;"
																														size="5"
																														disabled="true"
																														/>																									
																											</td>																								
																										</tr>	
																									</table>
																							</rich:panel>
																							<rich:panel>
																								<f:facet name="header" >Concepto de Negocios y Socios</f:facet>
																									<table cellpadding="0" cellspacing="0" border="0" width="100%">
																									   <tr valign="top">
																											<td  align="left" colspan="5">
																											     <strong> Conceptos de Negocios Involucrados:</strong>
																											</td>
																											<td  align="left" colspan="1" width="130px;">
																											     <strong>Potencial Compra:</strong>
																											</td>
																											
																										</tr>	
																									   <tr valign="top">
																											<td  align="left" colspan="5">
																												<h:inputTextarea id="conceptoInv" value="#{respuestaSolicitudDerivadaAction.conceptoNegocios}" 
																																rows="2" 
																																cols="20"
																																disabled="true"
																																style="width:97%;"/> 																							
																											</td>																								
																											<td  align="left">
																														 <h:inputText id="montoPotencial"
																																  value="#{respuestaSolicitudDerivadaAction.potencialCompra}" 
																												                  style="text-align: right; width:95%;"
																												                   onkeypress="return isNumberKey(event);"
																												                   disabled="true">
																												             		<f:convertNumber type="currency" currencySymbol="" locale="#{globalLocale}"/>																								                   
																												     	  </h:inputText> 																								
																											
																											</td>																								
																									  </tr>
																									   <tr valign="top">
																											<td  align="left" colspan="5">
																											     <strong> Rut y Nombre de Socios:</strong>
																											</td>
																											<td  align="left" colspan="1" width="130px;">
																											     <strong></strong>
																											</td>
																									  </tr>																						  			
																									  <tr>		
																											<td  align="left" colspan="5">
																												<h:inputTextarea id="rutNombresSocios" value="#{respuestaSolicitudDerivadaAction.rutNombresSocios}"
																																rows="2" 
																																disabled="true"
																																style="width:97%;"/> 																							
																											</td>																									
																											<td  align="center"  colspan="1"></td>
																									    </tr>
																										<tr valign="top">
																												<td  align="left" colspan="6">
																												     <strong> Observaciones:</strong>
																												</td>
																										</tr>																							
																										<tr valign="top">
																												<td  align="left" colspan="6">
																         											<h:inputTextarea id="idobservacionesCredito" value="#{respuestaSolicitudDerivadaAction.observacionesCredito}" 
																         											                rows="2" 
																         											                style="width:99%;"
																         											                disabled="true"/> 																								     
																												</td>
																										</tr>																								
																									</table>
																							</rich:panel>
																						</td>
																					</tr>
																					<tr valign="top">  
																						<td width="50%"> 
																							<rich:panel style="height:172px;">
																								<f:facet name="header" >Archvios Respuesta</f:facet>
																									<table cellpadding="0" cellspacing="0" border="0" width="100%" >
																										<tr>
																											<td colspan="3" align="center">
																							    				 <a:commandButton value="Archivos Respuesta" 
																							    				 	reRender="mpArchivosRespuestas"
																					                           	 	oncomplete="#{rich:component('mpArchivosRespuestas')}.show()"
																					                			  />																							
																											</td>
																										</tr>																									   
																									   <tr valign="top" >
																											<td width="500px;" colspan="3" align="left" style="border:1px solid #000000;padding:3px;">
																										    <a:outputPanel id="archivosList2">
																									    	<div class="results" style="height:110px; overflow: auto;">
																										   		<h:outputText value="No ha Agregado ningun Archivo." 
																										   		 rendered="#{empty respuestaSolicitudDerivadaAction.listaFileUploadedDTOs}"/>
																											    <rich:dataTable id="idArchivosAgregados2"
																											                var="_arch"
																											              value="#{respuestaSolicitudDerivadaAction.listaFileUploadedDTOs}"
																											           rendered="#{not empty respuestaSolicitudDerivadaAction.listaFileUploadedDTOs}">
																											        <rich:column>
																											            <f:facet name="header">Nombre</f:facet>
																									                    <s:link value="#{_arch.nombreArchivo}" action="#{downloadAttachment.download}">
																										                    <f:param name="attachmentId" value="${_arch.archivo.id}" />
																										                </s:link>																												            
																											        </rich:column>
																											        <rich:column styleClass="action">
																											            <f:facet name="header">Acción</f:facet>
																														<a:commandButton value="Eliminar" 
																														                action="#{respuestaSolicitudDerivadaAction.eliminarArchivo(_arch)}"
																														                ajaxSingle="true"
																										         		              reRender="archivosList,idArchivosAgregados" />		
																							
																											        </rich:column>
																										    	  </rich:dataTable>
																									    	  </div>
																									    	</a:outputPanel>  																											    

																											</td>
																										</tr>
																								   </table>
																							</rich:panel>																			
																						</td>
																						<td width="50%"> 
																							<rich:panel style="height:172px;">
																								<f:facet name="header" >Correo</f:facet>
																									<table cellpadding="0" cellspacing="0" border="0" width="100%" >
																										<tr>
																											<td colspan="2" align="center">
																							    				 <a:commandButton value="Agregar Correo" 
																							    				 	reRender="mpAgregarUsuarioCorreosDerivada"
																					                           	 	oncomplete="#{rich:component('mpAgregarUsuarioCorreosDerivada')}.show()"
																					                           	 	action="#{respuestaSolicitudDerivadaAction.ingresarModelCorreo()}"
																					                			  />																							
																											</td>
																										</tr>																									   
																										<tr>
																											<td colspan="2" > 
																											  <a:outputPanel id="idUsuariosCorreosLinea">
																										    	<div class="results" id="grillaUC" style="height:117px; overflow: auto;">
																											   		<h:outputText value="No existen usuarios agregado para envio de correo." 
																											   		   rendered="#{empty respuestaSolicitudDerivadaAction.listaUsuarioCorreoagregados}"/>
																												    <rich:dataTable id="idUsuariosCorreosLC"
																												                var="_usuarioCorreo"
																												              value="#{respuestaSolicitudDerivadaAction.listaUsuarioCorreoagregados}"
																												           rendered="#{not empty respuestaSolicitudDerivadaAction.listaUsuarioCorreoagregados}"
																												           style="width:100%">
																												        <rich:column>
																												            <f:facet name="header">Usuario</f:facet>
																												            <h:outputText value="#{_usuarioCorreo.nombre}"/>
																												        </rich:column>
																												    </rich:dataTable>
																											    </div>	
																											  </a:outputPanel>  
																											  																							
																											</td>
																										</tr>	
																									</table>
																							</rich:panel>	
																						</td>
																					</tr>
																				</table>
																			</td>
																			<td width="300px;" > 
																				<table cellpadding="0" cellspacing="0" border="0" width="100%;">
																					<tr>
																						<td width="100%;">
																							<rich:panel >
																								<f:facet name="header" ><strong>Resolución de Solicitud</strong></f:facet>
																								<a:outputPanel id="identificacionNueva">
																									<table cellpadding="0" cellspacing="0" border="0" style="height:269px;">
																										<tr valign="top">
																											<td width="100%;" colspan="2"  height="50px;" align="center">
																											 <h:selectOneRadio id="opcionNueva"  
																												   value="#{respuestaSolicitudDerivadaAction.innNomRiesgoNueva}"
																												   dir="ltr" disabled="false" layout="lineDirection">
																												 <f:selectItem itemLabel="Innominada" itemValue="21"/>
																												 <f:selectItem itemLabel="Nominada" itemValue="22"/>
																												  <f:selectItem itemLabel="R.Kupfer" itemValue="23"/>
																								       			   	<a:support event="onchange" 
																							                         reRender="logicLC"
																							             			      ajaxSingle="true" 
																							             			      action="#{respuestaSolicitudDerivadaAction.obtenerOpcionInnNomRiesgo()}" />	
					
																											 </h:selectOneRadio>                                                                                                                                                                                                                                                                                                                                                            
																											 </td>
																										 </tr>	
																										<tr>
																											<td><strong>Monto ($) </strong></td>
																											<td ><h:inputText id="montoSolLCNuevo"
																															  value="#{respuestaSolicitudDerivadaAction.montoLineaCreditoNuevo}" 
																											                  style="text-align: right;"
																											                   onkeypress="return isNumberKey(event);"
																											                   disabled="false">
																											                   
																											       			   	<a:support event="onchange" 
																											                         reRender="montoSolLCNuevo"
																											             			      ajaxSingle="true" 
																											             			      action="#{respuestaSolicitudDerivadaAction.obtenerMontoNuevo()}"
																											             			      process="montoSolLCNuevo" />	
																											            		<f:convertNumber type="currency" currencySymbol="" locale="#{globalLocale}"/> 																							                   
																											     </h:inputText>              
																											</td>
																										</tr>
																										<tr>	
																											<td colspan="2"><strong>Condición de Riesgo</strong></td>
																										</tr>
																										<tr>
																											<td colspan="2" valign="top">
																												<a:outputPanel id="idcondicionRiesgoNew">		
																			         								<h:selectOneMenu value="#{respuestaSolicitudDerivadaAction.clsRiesgoNuevo}" 
																			         								                 style="width:100%;"
																			         								                 disabled="false">
																						                			<s:selectItems value="#{respuestaSolicitudDerivadaAction.listaStringClsRiesgos}" 
																						                			                 var="_cr"  
																						                			               label="#{_cr}" 
																						                			               noSelectionLabel="Seleccionar ..." 
																						                			               hideNoSelectionLabel="true"/>
																						                			              
																								                		<a:support event="onchange" 
																									                         reRender="idcondicionRiesgo"
																									             			      ajaxSingle="true" 
																									             			      action="#{respuestaSolicitudDerivadaAction.obtenerCondicionRiesgo()}" />						                			               
																						                		    </h:selectOneMenu>	
																					                		    																						
																												</a:outputPanel>
																											   </td>
																										</tr>
																										<tr>	
																											<td colspan="2"><strong>Condición de Pago</strong></td>
																										</tr>
																										<tr>	
																											<td colspan="2" valign="top">
																												   <a:outputPanel id="idCondicionPagoNew">
																				         								<h:selectOneMenu value="#{respuestaSolicitudDerivadaAction.cPagoNuevo}" 
																				         								                 style="width:100%;"
																				         								                 disabled="false">
																							                			<s:selectItems value="#{respuestaSolicitudDerivadaAction.listaStringCdnPagos}" 
																							                			                 var="_cp"  
																							                			               label="#{_cp}" 
																							                			               noSelectionLabel="Seleccionar ..." 
																							                			               hideNoSelectionLabel="true"/>
																							                			              
																									                		<a:support event="onchange" 
																										                         reRender="idCondicionPago"
																										             			      ajaxSingle="true" 
																										             			      action="#{respuestaSolicitudDerivadaAction.obtenerCondicionPago()}" />							                			               
																							                		    </h:selectOneMenu>	
																						                		   </a:outputPanel>
																							                		   																					
																							       			</td>
																										</tr>
																									</table>

																								</a:outputPanel>
																							</rich:panel>
																						</td>
																					</tr>
																					<tr>
																						<td width="100%;">
																							<rich:panel style="height:173px;">
																								<f:facet name="header" ><h:outputLabel value="#{respuestaSolicitudDerivadaAction.tituloObservacion}"/></f:facet>
																								<a:outputPanel id="observacionesfinal11">
																									<table cellpadding="0" cellspacing="0" border="0" style="height:125px;" width="100%">
																										<tr>
																											<td width="100%">
																											<h:inputTextarea id="idObservacionesfinales11" value="#{respuestaSolicitudDerivadaAction.observacionesFinales}" 
																	         									rows="2" 
																	         									style="width:99%; height:98%;"
																	         									disabled="false"/> 																									
																											</td>
																										</tr>
																									</table>
																								</a:outputPanel>
																							</rich:panel>
																						</td>
																					</tr>																					
																				</table>
																			</td>																		
																		</tr>
																	</table>		
													    	</s:fragment>
													
													</rich:panel>	
			    								</td>
			    							</tr>
			    						</table>							    			
					    			
					    			</rich:tab>
					    			<rich:tab label="Riesgo y Pago" rendered="#{respuestaSolicitudDerivadaAction.paginaIngreso == 31 || respuestaSolicitudDerivadaAction.paginaIngreso == 32}" >
			    						<table cellpadding="0" cellspacing="0" border="0">
			    							<tr valign="top">
			    								<td >
											    	<rich:panel id="panelIngresoSolicitud3">
											    			<f:facet name="header" ><strong>#{respuestaSolicitudDerivadaAction.tituloIngreso}</strong></f:facet>
													    	<s:fragment rendered="#{respuestaSolicitudDerivadaAction.paginaIngreso == 31  || respuestaSolicitudDerivadaAction.paginaIngreso == 32}">
													    			<table  cellpadding="0" cellspacing="0" border="0" width="100%">
													    				<tr valign="top">
																			<td width="250px;" > 
																				<rich:panel>
																					<f:facet name="header" ><strong>Información</strong></f:facet>
																					<a:outputPanel id="idenCondicion">
																						<table cellpadding="0" cellspacing="0" border="0" style="height:100px;">
																							<tr valign="top">
																								<td colspan="3" height="20px;">Condiciones Riesgos</td>
																							</tr>
																							<tr valign="top">
																								<td width="15px;">
																									 <h:selectBooleanCheckbox id="idchecbokCRiesgoOld" value="#{respuestaSolicitudDerivadaAction.condicionRiesgo}" disabled="true"/>
																								</td>
																								<td colspan="2" width="100%">
																											<a:outputPanel id="idCboCRiesgo">		
																		         								<h:selectOneMenu value="#{respuestaSolicitudDerivadaAction.clsRiesgo}" 
																		         								                 style="width:100%;"
																		         								                 disabled="true">
																						                			<s:selectItems value="#{respuestaSolicitudDerivadaAction.listaStringClsRiesgos}" 
																						                			                 var="_criesgo"  
																						                			               label="#{_criesgo}" 
																						                			               noSelectionLabel="Seleccionar ..." 
																						                			               hideNoSelectionLabel="true"/>
																					                		    </h:selectOneMenu>	
																										</a:outputPanel>																						
																								</td>
																							</tr>
																							<tr valign="top">
																								<td colspan="3" height="20px;">Condiciones Pagos</td>
																							</tr>
																																														
																							<tr valign="top">
																								<td width="15px;">
																									 <h:selectBooleanCheckbox id="idchecbokCPago" value="#{respuestaSolicitudDerivadaAction.condicionPago}" disabled="true" />
																								</td>
																								<td width="100%;" colspan="2">
																									   <a:outputPanel id="idCboCPagoOLd">
																	         								<h:selectOneMenu value="#{respuestaSolicitudDerivadaAction.cPago}" 
																	         								                 style="width:100%;"
																	         								                 disabled="true">
																					                			<s:selectItems value="#{respuestaSolicitudDerivadaAction.listaStringCdnPagos}" 
																					                			                 var="_cp"  
																					                			               label="#{_cp}" 
																					                			               noSelectionLabel="Seleccionar ..." 
																					                			               hideNoSelectionLabel="true"/>
																				                		    </h:selectOneMenu>	
																			                		   </a:outputPanel>																						
																								</td>
																							</tr>																				
																						</table>
																					</a:outputPanel>
																				</rich:panel>
																				<rich:panel>
																					<f:facet name="header" >Documentos Creación Solicitud</f:facet>
																					<table cellpadding="0" cellspacing="0" border="0" width="100%" align="center">
																						<tr>
																							<td colspan="2" style="border:1px solid #000000;padding:3px;" align="center"> 
																							  <a:outputPanel id="idArchivoAdjuntosAux2">
																						    	<div class="results" id="grillaAA" style="height:120px; overflow: auto;">
																							   		<h:outputText value="No existen ningun archivo adjunto." 
																							   		   rendered="#{empty respuestaSolicitudDerivadaAction.listaArchivoGuardado}"/>
																								    <rich:dataTable id="idArchivoAdjunto2"
																								                var="_aa"
																								              value="#{respuestaSolicitudDerivadaAction.listaArchivoGuardado}"
																								           rendered="#{not empty respuestaSolicitudDerivadaAction.listaArchivoGuardado}"
																								           style="width:100%">
																								        <rich:column >
																								            <f:facet name="header">Archivo</f:facet>
																								            <a href="#{_aa.rutaCompleta}" target="_blank">
																								            	<h:outputText value="#{_aa.nombreArchivo}"/>
																								        	</a>
																								        </rich:column>
																								    </rich:dataTable>
																							    </div>	
																							  </a:outputPanel>  																							
																							</td>
																						</tr>
																					</table>																					
																				</rich:panel>																			
																			</td>
																			<td width="650px;">
																				<table cellpadding="0" cellspacing="0" border="0">
																					<tr> 
																						<td colspan="2"> 
																						<rich:panel>
																							<f:facet name="header" >Motivo del Cambio</f:facet>
																								<table cellpadding="0" cellspacing="0" border="0" width="100%" style="height:100px;">
																								   <tr valign="top" >
																										<td width="800px;" align="left" colspan="6">
																											<h:inputTextarea id="idMotivoRiesgoPago" value="#{respuestaSolicitudDerivadaAction.motivoRiesgoPago}" 
																															rows="4" 
																															style="width:99%;height:99%"
																															disabled="true"/> 																								
																										</td>
																								   </tr>
																								</table>
																						</rich:panel>
																						</td>
																					</tr>
																					<tr valign="top">  
																						<td width="50%"> 
																							<rich:panel style="height:172px;">
																								<f:facet name="header" >Archvios Respuesta</f:facet>
																									<table cellpadding="0" cellspacing="0" border="0" width="100%" >
																										<tr>
																											<td colspan="3" align="center">
																							    				 <a:commandButton value="Archivos Respuesta" 
																							    				 	reRender="mpArchivosRespuestas"
																					                           	 	oncomplete="#{rich:component('mpArchivosRespuestas')}.show()"
																					                			  />																							
																											</td>
																										</tr>																									   
																									   <tr valign="top" >
																											<td width="500px;" colspan="3" align="left" style="border:1px solid #000000;padding:3px;">
																										    <a:outputPanel id="archivosList3">
																									    	<div class="results" style="height:110px; overflow: auto;">
																										   		<h:outputText value="No ha Agregado ningun Archivo." 
																										   		 rendered="#{empty respuestaSolicitudDerivadaAction.listaFileUploadedDTOs}"/>
																											    <rich:dataTable id="idArchivosAgregados3"
																											                var="_arch"
																											              value="#{respuestaSolicitudDerivadaAction.listaFileUploadedDTOs}"
																											           rendered="#{not empty respuestaSolicitudDerivadaAction.listaFileUploadedDTOs}">
																											        <rich:column>
																											            <f:facet name="header">Nombre</f:facet>
																									                    <s:link value="#{_arch.nombreArchivo}" action="#{downloadAttachment.download}">
																										                    <f:param name="attachmentId" value="${_arch.archivo.id}" />
																										                </s:link>																												            
																											        </rich:column>
																											        <rich:column styleClass="action">
																											            <f:facet name="header">Acción</f:facet>
																														<a:commandButton value="Eliminar" 
																														                action="#{respuestaSolicitudDerivadaAction.eliminarArchivo(_arch)}"
																														                ajaxSingle="true"
																										         		              reRender="archivosList,idArchivosAgregados" />		
																							
																											        </rich:column>
																										    	  </rich:dataTable>
																									    	  </div>
																									    	</a:outputPanel>  																											    

																											</td>
																										</tr>
																								   </table>

																							</rich:panel>																			
																						</td>
																						<td width="50%"> 
																							<rich:panel style="height:172px;">
																								<f:facet name="header" >Correo</f:facet>
																									<table cellpadding="0" cellspacing="0" border="0" width="100%" >
																										<tr>
																											<td colspan="2" align="center">
																							    				 <a:commandButton value="Agregar Correo" 
																							    				 	reRender="mpAgregarUsuarioCorreosDerivada"
																					                           	 	oncomplete="#{rich:component('mpAgregarUsuarioCorreosDerivada')}.show()"
																					                           	 	action="#{respuestaSolicitudDerivadaAction.ingresarModelCorreo()}"
																					                			  />																							
																											</td>
																										</tr>																									   
																										<tr>
																											<td colspan="2" > 
																											  <a:outputPanel id="idUsuariosCorreosCondicion">
																										    	<div class="results" id="grillaUC" style="height:117px; overflow: auto;">
																											   		<h:outputText value="No existen usuarios agregado para envio de correo." 
																											   		   rendered="#{empty respuestaSolicitudDerivadaAction.listaUsuarioCorreoagregados}"/>
																												    <rich:dataTable id="idUsuariosCorreosCC"
																												                var="_usuarioCorreo"
																												              value="#{respuestaSolicitudDerivadaAction.listaUsuarioCorreoagregados}"
																												           rendered="#{not empty respuestaSolicitudDerivadaAction.listaUsuarioCorreoagregados}"
																												           style="width:100%">
																												        <rich:column>
																												            <f:facet name="header">Usuario</f:facet>
																												            <h:outputText value="#{_usuarioCorreo.nombre}"/>
																												        </rich:column>
																												    </rich:dataTable>
																											    </div>	
																											  </a:outputPanel>  
																											  																							
																											</td>
																										</tr>	
																									</table>
																							</rich:panel>	
																						</td>
																					</tr>
																				</table>
																			</td>
																			<td width="300px;" > 
																				<table cellpadding="0" cellspacing="0" border="0" width="100%;">
																					<tr>
																						<td width="100%;">
																							<rich:panel >
																								<f:facet name="header" ><strong>Resolución de Solicitud</strong></f:facet>
																								<a:outputPanel id="identNuevaPR">
																									<table cellpadding="0" cellspacing="0" border="0" style="height:100px;">
																										<tr valign="top">
																											<td colspan="3">Condiciones Riesgos</td>
																										</tr>
																										<tr valign="top">
																											<td width="15px;">
																												 <h:selectBooleanCheckbox id="idchecbokCRiesgoCC" value="#{respuestaSolicitudDerivadaAction.condicionRiesgoNew}">
																							 						<a:support ajaxSingle="true" reRender="idCboCRiesgoCCNew,idCboCPagoCCNew" 
																							 										event="onchange" 
																							 									   action="#{respuestaSolicitudDerivadaAction.habilitarComboCondicion('CondicionRiesgo')}" />
																												 </h:selectBooleanCheckbox>
																											</td>
																											<td colspan="2" width="100%">
																														<a:outputPanel id="idCboCRiesgoCCNew">		
																					         								<h:selectOneMenu value="#{respuestaSolicitudDerivadaAction.clsRiesgoNuevo}" 
																					         								                 style="width:100%;"
																					         								                 disabled="#{respuestaSolicitudDerivadaAction.comboCRiesgo}">
																								                			<s:selectItems value="#{respuestaSolicitudDerivadaAction.listaStringClsRiesgos}" 
																								                			                 var="_criesgo"  
																								                			               label="#{_criesgo}" 
																								                			               noSelectionLabel="Seleccionar ..." 
																								                			               hideNoSelectionLabel="true"/>
																										                		<a:support event="onchange" 
																											                         reRender="idCboCRiesgoCCNew"
																											             			      ajaxSingle="true" 
																											             			      action="#{respuestaSolicitudDerivadaAction.obtenerCondicionRiesgoNuevo()}" />						                			               
																								                		    </h:selectOneMenu>	
																													</a:outputPanel>																						
																											</td>
																										</tr>
																										<tr valign="top">
																											<td colspan="3">Condiciones Pagos</td>
																										</tr>
																																																	
																										<tr valign="top">
																											<td width="15px;">
																												 <h:selectBooleanCheckbox id="idchecbokCPagoCC" value="#{respuestaSolicitudDerivadaAction.condicionPagoNew}">
																							 						<a:support ajaxSingle="true" 
																							 								     reRender="idCboCPagoCCNew" 
																							 								        event="onchange" 
																							 								        action="#{respuestaSolicitudDerivadaAction.habilitarComboCondicion('CondicionPago')}" />
																												 </h:selectBooleanCheckbox>
																											</td>
																											<td colspan="2" width="100%">
																												   <a:outputPanel id="idCboCPagoCCNew">
																				         								<h:selectOneMenu value="#{respuestaSolicitudDerivadaAction.cPagoNuevo}" 
																				         								                 style="width:100%;"
																				         								                 disabled="#{respuestaSolicitudDerivadaAction.comboCPago}">
																							                			<s:selectItems value="#{respuestaSolicitudDerivadaAction.listaStringCdnPagos}" 
																							                			                 var="_cp"  
																							                			               label="#{_cp}" 
																							                			               noSelectionLabel="Seleccionar ..." 
																							                			               hideNoSelectionLabel="true"/>
																									                		<a:support event="onchange" 
																										                         reRender="idCboCPagoCCNew"
																										             			      ajaxSingle="true" 
																										             			      action="#{respuestaSolicitudDerivadaAction.obtenerCondicionPagoNuevo()}" />							                			               
																							                		    </h:selectOneMenu>	
																						                		   </a:outputPanel>																						
																											</td>
																										</tr>	
																									</table>

																								</a:outputPanel>
																							</rich:panel>
																						</td>
																					</tr>
																					<tr>
																						<td width="100%;">
																							<rich:panel style="height:173px;">
																								<f:facet name="header" ><h:outputLabel value="#{respuestaSolicitudDerivadaAction.tituloObservacion}"/></f:facet>
																								<a:outputPanel id="observacionesfinal3">
																									<table cellpadding="0" cellspacing="0" border="0" style="height:125px;" width="100%">
																										<tr>
																											<td width="100%">
																											<h:inputTextarea id="idObservacionesfinales3" value="#{respuestaSolicitudDerivadaAction.observacionesFinales}" 
																	         									rows="2" 
																	         									style="width:99%; height:98%;"
																	         									disabled="false"/> 																									
																											</td>
																										</tr>
																									</table>
																								</a:outputPanel>
																							</rich:panel>
																						</td>
																					</tr>																					
																				</table>
																			</td>																		
																		</tr>
																	</table>		
													    	</s:fragment>
													</rich:panel>	
			    								</td>
			    							</tr>
			    						</table>							    			
					    			</rich:tab>					    		
					    			<rich:tab label="Bloqueo y Desbloqueo" rendered="#{respuestaSolicitudDerivadaAction.paginaIngreso == 41}" >
			    						<table cellpadding="0" cellspacing="0" border="0">
			    							<tr valign="top">
			    								<td >
											    	<rich:panel id="panelIngresoSolicitud4">
											    			<f:facet name="header" ><strong>#{respuestaSolicitudDerivadaAction.tituloIngreso}</strong></f:facet>
													    	<s:fragment rendered="#{respuestaSolicitudDerivadaAction.paginaIngreso == 41}">
													    	
													    			<table  cellpadding="0" cellspacing="0" border="0" width="100%">
													    				<tr valign="top">
																			<td width="250px;" > 
																				<rich:panel>
																					<f:facet name="header" ><strong>Información</strong></f:facet>
																					<a:outputPanel id="idenBloqueoDesbloqueo">
																						<table cellpadding="0" cellspacing="0" border="0" style="height:100px;">
																							<tr valign="top">
																								<td width="300px;" height="30px;" colspan="3">
																				
																								
																								</td>
																							</tr>	
																							<tr valign="top">
																								<td width="300px;" colspan="3"  height="30px;" align="center">
																								 <h:selectOneRadio id="logicBD"  
																									   value="#{respuestaSolicitudDerivadaAction.opcionBloqueoDesbloqueo}"
																									   dir="ltr" disabled="true" layout="lineDirection">
																									 <f:selectItem itemLabel="Bloqueo" itemValue="41"/>
																									 <f:selectItem itemLabel="Desbloqueo" itemValue="42"/>
																					       			   	<a:support event="onchange" 
																				                         reRender="logicBD"
																				             			      ajaxSingle="true" 
																				             			      action="#{respuestaSolicitudDerivadaAction.seleccionOpcionesBloqueoDesbloqueo()}" />	
		
																								 </h:selectOneRadio>                                                                                                                                                                                                                                                                                                                                                            
																								 </td>
																							 </tr>																					
																							<tr valign="top">
																								<td width="300px;" height="10px;" colspan="3"> </td>
																							</tr>																						
																							<tr valign="top">
																								<td width="300px;" colspan="3">
			 																							
																								</td>
																							</tr>	
																			
																						</table>
																					</a:outputPanel>
																				</rich:panel>
																				<rich:panel>
																					<f:facet name="header" >Documentos Creación Solicitud</f:facet>
																					<table cellpadding="0" cellspacing="0" border="0" width="100%" align="center">
																						<tr>
																							<td colspan="2" style="border:1px solid #000000;padding:3px;" align="center"> 
																							  <a:outputPanel id="idArchivoAdjuntosAux3">
																						    	<div class="results" id="grilla3" style="height:125px; overflow: auto;">
																							   		<h:outputText value="No existen ningun archivo adjunto." 
																							   		   rendered="#{empty respuestaSolicitudDerivadaAction.listaArchivoGuardado}"/>
																								    <rich:dataTable id="idArchivoAdjunto3"
																								                var="_aa"
																								              value="#{respuestaSolicitudDerivadaAction.listaArchivoGuardado}"
																								           rendered="#{not empty respuestaSolicitudDerivadaAction.listaArchivoGuardado}"
																								           style="width:100%">
																								        <rich:column >
																								            <f:facet name="header">Archivo</f:facet>
																								            <a href="#{_aa.rutaCompleta}" target="_blank">
																								            	<h:outputText value="#{_aa.nombreArchivo}"/>
																								        	</a>
																								        </rich:column>
																								    </rich:dataTable>
																							    </div>	
																							  </a:outputPanel>  																							
																							</td>
																						</tr>
																					</table>																					
																				</rich:panel>																			
																			</td>
																			<td width="650px;">
																				<table cellpadding="0" cellspacing="0" border="0">
																					<tr> 
																						<td colspan="2"> 
																						<rich:panel>
																							<f:facet name="header" >Motivo del Bloqueoo Desbloqueo</f:facet>
																								<table cellpadding="0" cellspacing="0" border="0" width="100%" style="height:100px;">
																								   <tr valign="top" >
																										<td width="800px;" align="left" colspan="6">
																											<h:inputTextarea id="idTextoMotivoBloDes" value="#{respuestaSolicitudDerivadaAction.motivoBloDesbloqueo}" 
																															rows="4" 
																															style="width:99%;height:99%"
																															disabled="true"/> 																								
																										</td>
																								   </tr>
																								</table>
																						</rich:panel>
																						</td>
																					</tr>
																					<tr valign="top">  
																						<td width="50%">
																							<rich:panel style="height:172px;">
																								<f:facet name="header" >Archvios Respuesta</f:facet>
																									<table cellpadding="0" cellspacing="0" border="0" width="100%" >
																										<tr>
																											<td colspan="3" align="center">
																							    				 <a:commandButton value="Archivos Respuesta" 
																							    				 	reRender="mpArchivosRespuestas"
																					                           	 	oncomplete="#{rich:component('mpArchivosRespuestas')}.show()"
																					                			  />																							
																											</td>
																										</tr>																									   
																									   <tr valign="top" >
																											<td width="500px;" colspan="3" align="left" style="border:1px solid #000000;padding:3px;">
																										    <a:outputPanel id="archivosList4">
																									    	<div class="results" style="height:110px; overflow: auto;">
																										   		<h:outputText value="No ha Agregado ningun Archivo." 
																										   		 rendered="#{empty respuestaSolicitudDerivadaAction.listaFileUploadedDTOs}"/>
																											    <rich:dataTable id="idArchivosAgregados4"
																											                var="_arch"
																											              value="#{respuestaSolicitudDerivadaAction.listaFileUploadedDTOs}"
																											           rendered="#{not empty respuestaSolicitudDerivadaAction.listaFileUploadedDTOs}">
																											        <rich:column>
																											            <f:facet name="header">Nombre</f:facet>
																									                    <s:link value="#{_arch.nombreArchivo}" action="#{downloadAttachment.download}">
																										                    <f:param name="attachmentId" value="${_arch.archivo.id}" />
																										                </s:link>																												            
																											        </rich:column>
																											        <rich:column styleClass="action">
																											            <f:facet name="header">Acción</f:facet>
																														<a:commandButton value="Eliminar" 
																														                action="#{respuestaSolicitudDerivadaAction.eliminarArchivo(_arch)}"
																														                ajaxSingle="true"
																										         		              reRender="archivosList,idArchivosAgregados" />		
																							
																											        </rich:column>
																										    	  </rich:dataTable>
																									    	  </div>
																									    	</a:outputPanel>  																											    

																											</td>
																										</tr>
																								   </table>
																							</rich:panel>	
																						</td>
																						<td width="50%"> 
																							<rich:panel style="height:172px;">
																								<f:facet name="header" >Correo</f:facet>
																									<table cellpadding="0" cellspacing="0" border="0" width="100%" >
																										<tr>
																											<td colspan="2" align="center">
																							    				 <a:commandButton value="Agregar Correo" 
																							    				 	reRender="mpAgregarUsuarioCorreosDerivada"
																					                           	 	oncomplete="#{rich:component('mpAgregarUsuarioCorreosDerivada')}.show()"
																					                           	 	action="#{respuestaSolicitudDerivadaAction.ingresarModelCorreo()}"
																					                			  />																							
																											</td>
																										</tr>																									   
																										<tr>
																											<td colspan="2" > 
																											  <a:outputPanel id="idUsuariosCorreosBloDes">
																										    	<div class="results" id="grillaUC" style="height:117px; overflow: auto;">
																											   		<h:outputText value="No existen usuarios agregado para envio de correo." 
																											   		   rendered="#{empty respuestaSolicitudDerivadaAction.listaUsuarioCorreoagregados}"/>
																												    <rich:dataTable id="idUsuariosCorreosBD"
																												                var="_usuarioCorreo"
																												              value="#{respuestaSolicitudDerivadaAction.listaUsuarioCorreoagregados}"
																												           rendered="#{not empty respuestaSolicitudDerivadaAction.listaUsuarioCorreoagregados}"
																												           style="width:100%">
																												        <rich:column>
																												            <f:facet name="header">Usuario</f:facet>
																												            <h:outputText value="#{_usuarioCorreo.nombre}"/>
																												        </rich:column>
																												    </rich:dataTable>
																											    </div>	
																											  </a:outputPanel>  
																											  																							
																											</td>
																										</tr>	
																									</table>
																							</rich:panel>	
																						</td>
																					</tr>
																				</table>
																			</td>
																			<td width="300px;" > 
																				<table cellpadding="0" cellspacing="0" border="0" width="100%;">
																					<tr>
																						<td width="100%;">
																							<rich:panel >
																								<f:facet name="header" ><strong>Resolución de Solicitud</strong></f:facet>
																								<a:outputPanel id="identNuevaDB">
																									<table cellpadding="0" cellspacing="0" border="0" style="height:100px;">
																										<tr valign="top">
																											<td width="300px;" height="30px;" colspan="3">
																											
																											</td>
																										</tr>	
																										<tr valign="top">
																											<td width="300px;" colspan="3"  height="30px;" align="center">
																											 <h:selectOneRadio id="logicBDNew"  
																												   value="#{respuestaSolicitudDerivadaAction.opcionBloqueoDesbloqueoNew}"
																												   dir="ltr" disabled="false" layout="lineDirection">
																												 <f:selectItem itemLabel="Bloqueo" itemValue="41"/>
																												 <f:selectItem itemLabel="Desbloqueo" itemValue="42"/>
																								       			   	<a:support event="onchange" 
																							                         reRender="logicBDNew"
																							             			      ajaxSingle="true" 
																							             			      action="#{respuestaSolicitudDerivadaAction.seleccionOpcionesBloqueoDesbloqueoNew()}" />	
					
																											 </h:selectOneRadio>                                                                                                                                                                                                                                                                                                                                                            
																											 </td>
																										 </tr>																					
																										<tr valign="top">
																											<td width="300px;" height="10px;" colspan="3"> </td>
																										</tr>																						
																										<tr valign="top">
																											<td width="300px;" colspan="3">
						 																							
																											</td>
																										</tr>	

																									</table>

																								</a:outputPanel>
																							</rich:panel>
																						</td>
																					</tr>
																					<tr>
																						<td width="100%;">
																							<rich:panel style="height:173px;">
																								<f:facet name="header" ><h:outputLabel value="#{respuestaSolicitudDerivadaAction.tituloObservacion}"/></f:facet>
																								<a:outputPanel id="observacionesfinal4">
																									<table cellpadding="0" cellspacing="0" border="0" style="height:125px;" width="100%">
																										<tr>
																											<td width="100%">
																											<h:inputTextarea id="idObservacionesfinales4" value="#{respuestaSolicitudDerivadaAction.observacionesFinales}" 
																	         									rows="2" 
																	         									style="width:99%; height:98%;"
																	         									disabled="false"/> 																									
																											</td>
																										</tr>
																									</table>
																								</a:outputPanel>
																							</rich:panel>
																						</td>
																					</tr>																					
																				</table>
																			</td>																		
																		</tr>
																	</table>		
													    	
													    	</s:fragment>
													</rich:panel>	
			    								</td>
			    							</tr>
			    						</table>							    			
					    			</rich:tab>
					    			<rich:tab label="Creación de DM" rendered="#{respuestaSolicitudDerivadaAction.paginaIngreso == 43}" >
			    						<table cellpadding="0" cellspacing="0" border="0" width="100%">
			    							<tr valign="top">
			    								<td >
											    	<rich:panel id="panelIngresoSolicitud5">
											    			<f:facet name="header" ><strong>#{respuestaSolicitudDerivadaAction.tituloIngreso}</strong></f:facet>
											    			
											    			<table  cellpadding="0" cellspacing="0" border="0" width="100%">
											    				<tr valign="top">
											    					<td colspan="4" width="900px;">
																		<rich:panel>
																			<f:facet name="header" >Información de Lista Dms</f:facet>
																				<table cellpadding="0" cellspacing="0" border="0" width="100%" style="height:100px;">
																				   <tr valign="top" >
																						<td width="100%;" align="left" colspan="6">
																						    <a:outputPanel id="idCreacionDMList">
																					    	<div class="results" style="height:140px; overflow: auto;" >
																						   		<h:outputText value="No hay ningun cliente agregado a la lista DM." 
																						   		 rendered="#{empty respuestaSolicitudDerivadaAction.listaClienteDMs}"/>
																					
																							    <rich:dataTable id="idClienteCreacionDM"
																							                var="_cdm"
																							              value="#{respuestaSolicitudDerivadaAction.listaClienteDMs}"
																							           rendered="#{not empty respuestaSolicitudDerivadaAction.listaClienteDMs}">
																							        <rich:column>
																							            <f:facet name="header">Rut</f:facet>
																							            <h:outputText value="#{_cdm.id.rut}"/>
																							        </rich:column>
																							        <rich:column>
																							            <f:facet name="header">Nombre</f:facet>
																							            <h:outputText value="#{_cdm.id.nombre}"/>
																							        </rich:column>
																							        <rich:column>
																							            <f:facet name="header">Oficina</f:facet>
																							            <h:outputText value="#{_cdm.id.oficinaVentas}"/>
																							        </rich:column>
																							        <rich:column>
																							            <f:facet name="header">Zona</f:facet>
																							            <h:outputText value="#{_cdm.id.zona}"/>
																							        </rich:column>																									        																									        																									        
																							        <rich:column>
																							            <f:facet name="header">Lista Precios</f:facet>
																							            <h:outputText value="#{_cdm.id.listaPrecio}"/>
																							        </rich:column>
																							        <rich:column>
																							            <f:facet name="header">Sector</f:facet>
																							            <h:outputText value="#{_cdm.id.sector}"/>
																							        </rich:column>
																							        <rich:column>
																							            <f:facet name="header">Rut V.Telefono</f:facet>
																							            <h:outputText value="#{_cdm.id.vendTelefono}"/>
																							        </rich:column>																									        
																							        <rich:column>
																							            <f:facet name="header">Rut V.Terreno</f:facet>
																							            <h:outputText value="#{_cdm.id.vendTerreno}"/>
																							        </rich:column>																									        
																						    	  </rich:dataTable>
																					    	  </div>
																					    	</a:outputPanel>  																								
																						</td>
																				   </tr>
																				</table>
																		</rich:panel>											    					
											    					</td>
											    					<ui:remove>
												    					<td>
																			<rich:panel >
																				<f:facet name="header" ><strong>Resolución de Solicitud</strong></f:facet>
																				<a:outputPanel id="identNuevaCDM">
																					<table cellpadding="0" cellspacing="0" border="0" style="height:140px;">
																						<tr valign="top">
																							<td width="300px;" height="30px;" colspan="3">
																							
																							</td>
																						</tr>	
																						<tr valign="top">
																							<td width="300px;" colspan="3"  height="30px;" align="center">
	                                                                                                                                                                                                                                                                                                                                                      
																							 </td>
																						 </tr>																					
																						<tr valign="top">
																							<td width="300px;" height="10px;" colspan="3"> </td>
																						</tr>																						
																						<tr valign="top">
																							<td width="300px;" colspan="3">
		 																							
																							</td>
																						</tr>	
	
																					</table>
																				</a:outputPanel>
																			</rich:panel>											    					
												    					</td>
											    					</ui:remove>
											    				</tr>
											    				<tr valign="top">
											    					<td width="25%;">
																		<rich:panel>
																			<f:facet name="header" >Documentos Creación Solicitud</f:facet>
																			<table cellpadding="0" cellspacing="0" border="0" width="100%" align="center">
																				<tr>
																					<td colspan="2" style="border:1px solid #000000;padding:3px;" align="center"> 
																					  <a:outputPanel id="idArchivoAdjuntosAux4">
																				    	<div class="results" id="grilla3" style="height:125px; overflow: auto;">
																					   		<h:outputText value="No existen ningun archivo adjunto." 
																					   		   rendered="#{empty respuestaSolicitudDerivadaAction.listaArchivoGuardado}"/>
																						    <rich:dataTable id="idArchivoAdjunto4"
																						                var="_aa"
																						              value="#{respuestaSolicitudDerivadaAction.listaArchivoGuardado}"
																						           rendered="#{not empty respuestaSolicitudDerivadaAction.listaArchivoGuardado}"
																						           style="width:100%">
																						        <rich:column >
																						            <f:facet name="header">Archivo</f:facet>
																						            <a href="#{_aa.rutaCompleta}" target="_blank">
																						            	<h:outputText value="#{_aa.nombreArchivo}"/>
																						        	</a>
																						        </rich:column>
																						    </rich:dataTable>
																					    </div>	
																					  </a:outputPanel>  																							
																					</td>
																				</tr>
																			</table>																					
																		</rich:panel>												    					
											    					</td>
											    					<td  width="25%;">
																		<rich:panel style="height:172px;">
																			<f:facet name="header" >Archvios Respuesta</f:facet>
																				<table cellpadding="0" cellspacing="0" border="0" width="100%" >
																					<tr>
																						<td colspan="3" align="center">
																		    				 <a:commandButton value="Archivos Respuesta" 
																		    				 	reRender="mpArchivosRespuestas"
																                           	 	oncomplete="#{rich:component('mpArchivosRespuestas')}.show()"
																                			  />																							
																						</td>
																					</tr>																									   
																				   <tr valign="top" >
																						<td width="500px;" colspan="3" align="left" style="border:1px solid #000000;padding:3px;">
																					    <a:outputPanel id="archivosList5">
																				    	<div class="results" style="height:110px; overflow: auto;">
																					   		<h:outputText value="No ha Agregado ningun Archivo." 
																					   		 rendered="#{empty respuestaSolicitudDerivadaAction.listaFileUploadedDTOs}"/>
																						    <rich:dataTable id="idArchivosAgregados5"
																						                var="_arch"
																						              value="#{respuestaSolicitudDerivadaAction.listaFileUploadedDTOs}"
																						           rendered="#{not empty respuestaSolicitudDerivadaAction.listaFileUploadedDTOs}">
																						        <rich:column>
																						            <f:facet name="header">Nombre</f:facet>
																				                    <s:link value="#{_arch.nombreArchivo}" action="#{downloadAttachment.download}">
																					                    <f:param name="attachmentId" value="${_arch.archivo.id}" />
																					                </s:link>																												            
																						        </rich:column>
																						        <rich:column styleClass="action">
																						            <f:facet name="header">Acción</f:facet>
																									<a:commandButton value="Eliminar" 
																									                action="#{respuestaSolicitudDerivadaAction.eliminarArchivo(_arch)}"
																									                ajaxSingle="true"
																					         		              reRender="archivosList,idArchivosAgregados" />		
																		
																						        </rich:column>
																					    	  </rich:dataTable>
																				    	  </div>
																				    	</a:outputPanel>  																											    

																						</td>
																					</tr>
																			   </table>

																		</rich:panel>																			
											    					</td>
											    					<td  width="25%;">
																		<rich:panel style="height:172px;">
																			<f:facet name="header" >Correo</f:facet>
																				<table cellpadding="0" cellspacing="0" border="0" width="100%" >
																					<tr>
																						<td colspan="2" align="center">
																		    				 <a:commandButton value="Agregar Correo" 
																		    				 	reRender="mpAgregarUsuarioCorreosDerivada"
																                           	 	oncomplete="#{rich:component('mpAgregarUsuarioCorreosDerivada')}.show()"
																                           	 	action="#{respuestaSolicitudDerivadaAction.ingresarModelCorreo()}"
																                			  />																							
																						</td>
																					</tr>																									   
																					<tr>
																						<td colspan="2" > 
																						  <a:outputPanel id="idUsuariosCorreosDM">
																					    	<div class="results" id="grillaDM" style="height:117px; overflow: auto;">
																						   		<h:outputText value="No existen usuarios agregado para envio de correo." 
																						   		   rendered="#{empty respuestaSolicitudDerivadaAction.listaUsuarioCorreoagregados}"/>
																							    <rich:dataTable id="idUsuariosCorreosCDM"
																							                var="_usuarioCorreo"
																							              value="#{respuestaSolicitudDerivadaAction.listaUsuarioCorreoagregados}"
																							           rendered="#{not empty respuestaSolicitudDerivadaAction.listaUsuarioCorreoagregados}"
																							           style="width:100%">
																							        <rich:column>
																							            <f:facet name="header">Usuario</f:facet>
																							            <h:outputText value="#{_usuarioCorreo.nombre}"/>
																							        </rich:column>
																							    </rich:dataTable>
																						    </div>	
																						  </a:outputPanel>  
																						  																							
																						</td>
																					</tr>	
																				</table>
																		</rich:panel>												    					
											    					</td>
											    					<td  width="25%;">
																		<rich:panel style="height:173px;">
																			<f:facet name="header" ><h:outputLabel value="#{respuestaSolicitudDerivadaAction.tituloObservacion}"/></f:facet>
																			<a:outputPanel id="observacionesfinal5">
																				<table cellpadding="0" cellspacing="0" border="0" style="height:125px;" width="100%">
																					<tr>
																						<td width="100%">
																						<h:inputTextarea id="idObservacionesfinales5" value="#{respuestaSolicitudDerivadaAction.observacionesFinales}" 
												         									rows="2" 
												         									style="width:99%; height:98%;"
												         									disabled="false"/> 																									
																						</td>
																					</tr>
																				</table>
																			</a:outputPanel>
																		</rich:panel>											    					
											    					</td>
											    				</tr>											    				
															</table>		
													
													</rich:panel>	
			    								</td>
			    							</tr>
			    						</table>							    			
					    			</rich:tab>
					    			<rich:tab label="Prorroga de Cheques" rendered="#{respuestaSolicitudDerivadaAction.paginaIngreso == 44}" >
			    						<table cellpadding="0" cellspacing="0" border="0" width="100%">
			    							<tr valign="top">
			    								<td >
											    	<rich:panel id="panelIngresoSolicitud6">
											    			<f:facet name="header" ><strong>#{respuestaSolicitudDerivadaAction.tituloIngreso}</strong></f:facet>
											    			
											    			<table  cellpadding="0" cellspacing="0" border="0" width="100%">
											    				<tr valign="top">
											    					<td colspan="3" width="900px;">
																		<rich:panel>
																			<f:facet name="header" >Listado de Documento para Prorroga</f:facet>
																				<table cellpadding="0" cellspacing="0" border="0" width="100%" style="height:140px;">
																				   <tr valign="top" >
																						<td width="100%;" align="center">
																						    <a:outputPanel id="idDocumentoProrrogaList">
																					    	<div class="results" style="height:130px; overflow: auto;" >
																						   		<h:outputText value="No hay ningun documento para prorrogar en la lista." 
																						   		 rendered="#{empty respuestaSolicitudDerivadaAction.listaProrrogas}"/>
																					
																							    <rich:dataTable id="idDocumentoProrroga"
																							                var="_dpa"
																							              value="#{respuestaSolicitudDerivadaAction.listaProrrogas}"
																							           rendered="#{not empty respuestaSolicitudDerivadaAction.listaProrrogas}">
																							        <rich:column width="80px;" style="text-align: center;">
																							            <f:facet name="header">Nro de Docto </f:facet>
																							            <h:outputText value="#{_dpa.id.nroCheque}"/>
																							        </rich:column>				        
																							        <rich:column  style="text-align: center;">
																							            <f:facet name="header">Monto</f:facet>
																							            <h:outputText value="#{_dpa.id.monto}">
																							            	<f:convertNumber currencySymbol="$" groupingUsed="#{true}"
																						  									maxFractionDigits="0" type="currency"/> 																									            
																							            </h:outputText>
																							        </rich:column>
																							        <rich:column  style="text-align: center;">
																							            <f:facet name="header">Venc.Actual</f:facet>
																							            <h:outputText value="#{_dpa.id.vencActual}">
																							            </h:outputText>
																							        </rich:column>	
																							        <rich:column  style="text-align: center;">
																							            <f:facet name="header">Venc.Nuevo</f:facet>
																							            <h:outputText value="#{_dpa.id.vencNuevo}">
																							            </h:outputText>      																									            
																							        </rich:column>
																						    	  </rich:dataTable>
																					    	  </div>
																					    	</a:outputPanel>  																								
																						</td>
																				   </tr>
																				</table>
																		</rich:panel>											    					
											    					</td>
											    					<td>
																		<rich:panel >
																			<f:facet name="header" ><strong>Motivo de Prorroga</strong></f:facet>
																			<a:outputPanel id="identNuevaProrroga">
																				<table cellpadding="0" cellspacing="0" border="0" width="100%;" style="height:140px;">
																					<tr valign="top">
																						<td width="100%">
																						<h:inputTextarea id="idMotivoProrroga" 
																						    value="#{respuestaSolicitudDerivadaAction.motivoProrroga}" 
												         									rows="2" 
												         									style="width:99%; height:98%;"
												         									disabled="true"/> 																									
																						</td>
																					</tr>	
																				</table>
																			</a:outputPanel>
																		</rich:panel>											    					
											    					</td>
											    				
											    				</tr>
											    				<tr valign="top">
											    					<td width="25%;">
																		<rich:panel>
																			<f:facet name="header" >Documentos Creación Solicitud</f:facet>
																			<table cellpadding="0" cellspacing="0" border="0" width="100%" align="center">
																				<tr>
																					<td colspan="2" style="border:1px solid #000000;padding:3px;" align="center"> 
																					  <a:outputPanel id="idArchivoAdjuntosAux5">
																				    	<div class="results" id="grilla3" style="height:125px; overflow: auto;">
																					   		<h:outputText value="No existen ningun archivo adjunto." 
																					   		   rendered="#{empty respuestaSolicitudDerivadaAction.listaArchivoGuardado}"/>
																						    <rich:dataTable id="idArchivoAdjunto5"
																						                var="_aa"
																						              value="#{respuestaSolicitudDerivadaAction.listaArchivoGuardado}"
																						           rendered="#{not empty respuestaSolicitudDerivadaAction.listaArchivoGuardado}"
																						           style="width:100%">
																						        <rich:column >
																						            <f:facet name="header">Archivo</f:facet>
																						            <a href="#{_aa.rutaCompleta}" target="_blank">
																						            	<h:outputText value="#{_aa.nombreArchivo}"/>
																						        	</a>
																						        </rich:column>
																						    </rich:dataTable>
																					    </div>	
																					  </a:outputPanel>  																							
																					</td>
																				</tr>
																			</table>																					
																		</rich:panel>												    					
											    					</td>
											    					<td  width="25%;">
																		<rich:panel style="height:172px;">
																			<f:facet name="header" >Archvios Respuesta</f:facet>
																				<table cellpadding="0" cellspacing="0" border="0" width="100%" >
																					<tr>
																						<td colspan="3" align="center">
																		    				 <a:commandButton value="Archivos Respuesta" 
																		    				 	reRender="mpArchivosRespuestas"
																                           	 	oncomplete="#{rich:component('mpArchivosRespuestas')}.show()"
																                			  />																							
																						</td>
																					</tr>																									   
																				   <tr valign="top" >
																						<td width="500px;" colspan="3" align="left" style="border:1px solid #000000;padding:3px;">
																					    <a:outputPanel id="archivosList6">
																				    	<div class="results" style="height:110px; overflow: auto;">
																					   		<h:outputText value="No ha Agregado ningun Archivo." 
																					   		 rendered="#{empty respuestaSolicitudDerivadaAction.listaFileUploadedDTOs}"/>
																						    <rich:dataTable id="idArchivosAgregados6"
																						                var="_arch"
																						              value="#{respuestaSolicitudDerivadaAction.listaFileUploadedDTOs}"
																						           rendered="#{not empty respuestaSolicitudDerivadaAction.listaFileUploadedDTOs}">
																						        <rich:column>
																						            <f:facet name="header">Nombre</f:facet>
																				                    <s:link value="#{_arch.nombreArchivo}" action="#{downloadAttachment.download}">
																					                    <f:param name="attachmentId" value="${_arch.archivo.id}" />
																					                </s:link>																												            
																						        </rich:column>
																						        <rich:column styleClass="action">
																						            <f:facet name="header">Acción</f:facet>
																									<a:commandButton value="Eliminar" 
																									                action="#{respuestaSolicitudDerivadaAction.eliminarArchivo(_arch)}"
																									                ajaxSingle="true"
																					         		              reRender="archivosList,idArchivosAgregados" />		
																						        </rich:column>
																					    	  </rich:dataTable>
																				    	  </div>
																				    	</a:outputPanel>  																											    

																						</td>
																					</tr>
																			   </table>

																		</rich:panel>																					
											    					</td>

											    					<td  width="25%;">
																		<rich:panel style="height:172px;">
																			<f:facet name="header" >Correo</f:facet>
																				<table cellpadding="0" cellspacing="0" border="0" width="100%" >
																					<tr>
																						<td colspan="2" align="center">
																		    				 <a:commandButton value="Agregar Correo" 
																		    				 	reRender="mpAgregarUsuarioCorreosDerivada"
																                           	 	oncomplete="#{rich:component('mpAgregarUsuarioCorreosDerivada')}.show()"
																                           	 	action="#{respuestaSolicitudDerivadaAction.ingresarModelCorreo()}"
																                			  />																							
																						</td>
																					</tr>																									   
																					<tr>
																						<td colspan="2" > 
																						  <a:outputPanel id="idUsuariosCorreosPR">
																					    	<div class="results" id="grillaDM" style="height:117px; overflow: auto;">
																						   		<h:outputText value="No existen usuarios agregado para envio de correo." 
																						   		   rendered="#{empty respuestaSolicitudDerivadaAction.listaUsuarioCorreoagregados}"/>
																							    <rich:dataTable id="idUsuariosCorreosPRO"
																							                var="_usuarioCorreo"
																							              value="#{respuestaSolicitudDerivadaAction.listaUsuarioCorreoagregados}"
																							           rendered="#{not empty respuestaSolicitudDerivadaAction.listaUsuarioCorreoagregados}"
																							           style="width:100%">
																							        <rich:column>
																							            <f:facet name="header">Usuario</f:facet>
																							            <h:outputText value="#{_usuarioCorreo.nombre}"/>
																							        </rich:column>
																							    </rich:dataTable>
																						    </div>	
																						  </a:outputPanel>  
																						  																							
																						</td>
																					</tr>	
																				</table>
																		</rich:panel>												    					
											    					</td>
											    					<td  width="25%;">
																		<rich:panel style="height:173px;">
																			<f:facet name="header" ><h:outputLabel value="#{respuestaSolicitudDerivadaAction.tituloObservacion}"/></f:facet>
																			<a:outputPanel id="observacionesfinal6">
																				<table cellpadding="0" cellspacing="0" border="0" style="height:125px;" width="100%">
																					<tr>
																						<td width="100%">
																						<h:inputTextarea id="idObservacionesfinales6" value="#{respuestaSolicitudDerivadaAction.observacionesFinales}" 
												         									rows="2" 
												         									style="width:99%; height:98%;"
												         									disabled="false"/> 																									
																						</td>
																					</tr>
																				</table>
																			</a:outputPanel>
																		</rich:panel>											    					
											    					</td>
											    				</tr>											    				
															</table>		

													</rich:panel>	
			    								</td>
			    							</tr>
			    						</table>							    			
					    			</rich:tab>
					    		</rich:tabPanel>
				    		</rich:panel>	    						
    					</td>
    				</tr>					
    			</table>
	    	</h:form>
    	</rich:panel>
	  </a:outputPanel>	
	    <a:status onstart="abrirModal();" onstop="cerrarModal();"></a:status>
		<ui:include src="/layout/modalSck/modalConsultarCtaCteRespuesta.xhtml" />	
		<ui:include src="/layout/modalSckDerivada/modalIngresoObservaciones.xhtml" />
		<ui:include src="/layout/modalSckDerivada/modalMensajeGlobalRespuestaDerivada.xhtml" />
		<ui:include src="/layout/modalSckDerivada/modalAprobarSolicitudDerivada.xhtml"/>
		<ui:include src="/layout/modalSckDerivada/modalRechazarSolicitudDerivada.xhtml"/>
		<ui:include src="/layout/modalSckDerivada/modalMensajeRespuestaAprobarDerivada.xhtml" />
		<ui:include src="/layout/modalSckDerivada/modalAnalizarSolicitudDerivada.xhtml" />
		<ui:include src="/layout/modalSckDerivada/modalCerrarAnalisis.xhtml"/>
		<ui:include src="/layout/modalSckDerivada/modalAdjuntarArchivoDerivada.xhtml"/>		
		<ui:include src="/layout/modalSckDerivada/modalArchivosRespuesta.xhtml"/>
		<ui:include src="/layout/modalSckDerivada/modalConsultarHitos.xhtml"/>				
		<ui:include src="/layout/modalSckDerivada/modalConsultarLogs.xhtml"/>	
        <ui:include src="/layout/modalSckDerivada/modalSolicitudUsuariosGlobal.xhtml" />
        <ui:include src="/layout/modalSckDerivada/modalAgregarUsuariosCorreosDerivada.xhtml" />					
		<ui:include src="/layout/modalSckDerivada/modalConsultarCtaCteRespuestaDerivada.xhtml" />
		<ui:include src="/layout/modalSckDerivada/modalAgregarCotizacionRespuesta.xhtml" />	
    </ui:define>

</ui:composition>
